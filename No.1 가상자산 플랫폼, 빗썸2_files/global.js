"use strict";var R_SERVER1="//r1.bithumb.com";var R_SERVER2="//r2.bithumb.com";var R_SERVER3="//r3.bithumb.com";var R_SERVER4="//r4.bithumb.com";var R_SERVER5="//r5.bithumb.com";var AJAX_FAIL_MSG=lang["comm.msg01"];var LOGIN_CHECK=gIsSet(document.getElementById("loginCheck"))?document.getElementById("loginCheck").value:"N";var USER_AGENT=navigator.userAgent.toLowerCase();var LOCATION_PATH=location.pathname.split("/");var HOST_DIV_WEB="https://pub1.bithumb.com";var HOST_DIV_WEB_QA="https://qa-pub1.bithumb.com";var HOST_DIV_WEB_DEV="https://dev-pub1.bithumb.com";var MARKET_TYPE=(LOCATION_PATH[3]===undefined||LOCATION_PATH[3].indexOf("_")<0||LOCATION_PATH[3].split("_")[1]==="KRW")?"C0100":gCoinType(LOCATION_PATH[3].split("_")[1]);var CUR_METHOD=LOCATION_PATH[2]||"main";var sCoinType=LOCATION_PATH[3]===undefined?"BTC":LOCATION_PATH[3].split("_")[0];var sCoinKey=gCoinType(sCoinType);var CUR_LANG="";var ANDROID_CHECK=(/android/i.test(USER_AGENT));var IOS_CHECK=(/(iphone|ipod|ipad)/i.test(USER_AGENT));var gRate=1;var gSign="";var getLeftInfoDataLimit="";var sTickTime="";var bIsBackgeound=false;var getLeftInfoData;var arrAjaxRequest=[];var arrAbortExclude=["/trade-info/v1/getTradeData","/trade/getTradeData","/asset_status/getAsset","/trade/order/","/trade-info/v1/orderbook","/trade/orderbook","/trade/wsevent"];var arrNetworkState=[true,{wss1:true,wss:true},null,false,0];function setNetworkState(b,c){if(b===1){c=Object.assign(arrNetworkState[b],c)}arrNetworkState[b]=c;var a=JSON.stringify(arrNetworkState[1]).indexOf("true")!==-1;if(!arrNetworkState[0]&&a){if(arrNetworkState[4]<5){arrNetworkState[4]++}else{arrNetworkState[3]=true}}if(arrNetworkState[3]&&(arrNetworkState[2]&&typeof arrNetworkState[2]==="function")&&(arrNetworkState[0]&&!a)){arrNetworkState[3]=false;arrNetworkState[2].call()}}function fnNetworkCallback(){window.location.reload(true)}var _console={log:function(){if(getNavigator.real()){return}var c=arguments.length;var a=0;var d=arguments[0];if(c>1){var b=[];while(a<c){b.push(arguments[a]);a++}d=b.join(" ")}console.log(d)},info:function(b,a){if(getNavigator.real()){return}if(gIsSet(a)){console.info("%cPerformance Time Check ["+a+"]: "+b,"color: yellow; background-color: black; padding:0 5px")}else{console.info("%cPerformance Time Check: "+b,"color: yellow; background-color: black; padding:0 5px")}},list:{},startTime:null,start:function(a){if(gIsSet(a)){this.list[a]={startTime:new Date().getTime()}}else{this.startTime=new Date().getTime()}},endTime:null,end:function(a){if(gIsSet(a)){this.list[a].endTime=new Date().getTime();_console.info(this.list[a].endTime-this.list[a].startTime,a)}else{this.endTime=new Date().getTime();_console.info(this.endTime-this.startTime,a)}}};var gNations=(function(){return{getDomainType:function(){if(location.host.indexOf("local")!==-1){return"local"}else{if(location.host.indexOf("dev")!==-1){return"dev"}else{if(location.host.indexOf("qa")!==-1){return"qa"}else{return"www"}}}},korean:{code:function(){return this.getDomainType()},text:"한국어",lang:"KOR"},english:{code:"en",text:"English",lang:"ENG"}}})();var getNavigator=(function(){var c=navigator.appName;var b=navigator.appVersion;var a=navigator.platform;return{browserInfo:function(){var d={name:"",version:""};if(c.indexOf("Microsoft")>-1||USER_AGENT.indexOf("trident/")>-1||USER_AGENT.indexOf("edge")>-1){d.name="ie";if(b.indexOf("MSIE 10")>-1){d.version="10"}else{if(b.indexOf("MSIE 9")>-1){d.version="9"}else{if(b.indexOf("MSIE 8")>-1){d.version="8"}else{if(b.indexOf("MSIE 7")>-1){d.version="7"}else{if(b.indexOf("MSIE 6")>-1){d.version="6"}else{if(USER_AGENT.indexOf("edge")>-1){d.version="edge"}else{if(USER_AGENT.indexOf("trident")>-1){d.version="11"}}}}}}}}else{if(USER_AGENT.indexOf("chrome")>-1){d.name="chrome"}else{if(USER_AGENT.indexOf("opera")>-1){d.name="opera"}else{if(USER_AGENT.indexOf("firefox")>-1){d.name="firefox"}else{if(USER_AGENT.indexOf("safari")>-1){d.name="safari"}}}}}return d},platform:function(d){return a.toLowerCase().indexOf(d)>-1},real:function(){var g=["bithumb.com","www.bithumb.com","en.bithumb.com","m.bithumb.com","en.m.bithumb.com"];var f=["alpha.bithumb.com","alpha.m.bithumb.com","alpha-en.bithumb.com","alpha-en.m.bithumb.com"];var e=false;var d=location.hostname;if(g.indexOf(d)>-1){e=true}if(f.indexOf(d)>-1){e=true;R_SERVER1="//alpha-r1.bithumb.com";R_SERVER2="//alpha-r2.bithumb.com";R_SERVER3="//alpha-r3.bithumb.com";R_SERVER4="//alpha-r4.bithumb.com";R_SERVER5="//alpha-r5.bithumb.com"}return e}}})();if(!getNavigator.real()){HOST_DIV_WEB=document.location.hostname.indexOf("qa")===-1?HOST_DIV_WEB_DEV:HOST_DIV_WEB_QA}var gExtend=function(d){var b=arguments.length;var f=d||{};var c=1;for(c;c<b;c++){var a=arguments[c];if(!a){continue}for(var e in a){if(a.hasOwnProperty(e)){if(typeof a[e]==="object"&&(a[e].length>0||Object.keys(a[e])>0)){f[e]=gExtend(f[e],a[e])}else{f[e]=a[e]}}}}return f};function gCloneObject(c){var a={};for(var b in c){if(typeof c[b]==="object"&&c[b]!=null){a[b]=gCloneObject(c[b])}else{a[b]=c[b]}}return a}var gCookie={add:function(g,i){var c=arguments;var d=c.length;var a=2<d?c[2]:null;var e=3<d?c[3]:null;var h=4<d?c[4]:null;var f=5<d?c[5]:false;var b=new Date();if(a){if(typeof a==="object"){if(Object.keys(a).indexOf("expire")>-1){b=a.expire}else{if(Object.keys(a).indexOf("hours")>-1){b.setHours(b.getHours()+parseInt(a.hours))}else{if(Object.keys(a).indexOf("minutes")>-1){b.setMinutes(b.getMinutes()+parseInt(a.minutes))}}}}else{b.setDate(b.getDate()+parseInt(a))}}a=a===null?"":"; expires="+b.toGMTString();e=e===null?"":"; path="+e;h=h===null?"":"; domain="+h;f=f?"; secure":"";document.cookie=g+"="+encodeURIComponent(i)+a+e+h+f;this.change[0]=true},remove:function(a,b){var c=new Date();c.setDate(c.getDate()-1);if(!b){document.cookie=a+"=; expires="+c.toGMTString()+";";document.cookie=a+"=; expires="+c.toUTCString()+"; path=/"}document.cookie=a+"=; expires="+c.toGMTString()+"; domain=.bithumb.com";document.cookie=a+"=; expires="+c.toUTCString()+"; path=/; domain=.bithumb.com";this.change[0]=true},get:function(c){if(this.change[0]){this.change=[false,document.cookie]}var f=c+"=";var b=0;var g;var a;var e=this.change[1];var d=e.length;while(b<=d){g=b+f.length;if(e.substring(b,g)===f){if((a=e.indexOf(";",g))===-1){a=e.length}return decodeURIComponent(e.substring(g,a))}b=e.indexOf(" ",b)+1;if(b===0){break}}return""},free:function(){var e=new Date();var d=document.cookie.split(";");var c=d.length;var a;var b=0;e.setDate(e.getDate()-1);for(b;b<c;b++){if(d[b]===""){continue}a=d[b].split("=");if(a[0]!==""){document.cookie=a[0]+"=; expires="+e.toGMTString()+";"}}this.change[0]=true},isEnable:function(){return window.navigator.cookieEnabled},change:[true,null]};CUR_LANG=gCookie.get("lang")||"korean";sTickTime=gCookie.get("chgRateTickTime")||"MID";if(!realData){var realData={}}var gValidator={number:function(b,d,a){if(gIsEmpty(b)){return false}var c=Number(b);if(isNaN(c)){return false}if((d&&isNaN(d))||(a&&isNaN(a))){return false}if(d&&c<d){return false}return !(a&&(c>a))},price:function(b,c,a){return this.number(b.replace(/[^0-9]/g,""),c,a)},string:function(b,c,a){if(gIsEmpty(b)){return false}if(c&&(b.length<c)){return false}return !(a&&(b.length>a))},domain:function(a){var b=(/^(http:\/\/)?((\w+)[.])+(asia|biz|cc|cn|com|de|eu|in|info|jobs|jp|kr|mobi|mx|name|net|nz|org|travel|tv|tw|uk|us)(\/(\w*))*$/i);return b.test(a)},url:function(b){if(this.domain(b)){return false}var a=b.lastIndexOf("/");if(a>-1){return this.domain(b.substring(0,a))}return false},password:function(b,a){if(!gIsSet(a)){a=null}if(b.length<8||b.length>64||!b.match(/[a-z]/)||!b.match(/[A-Z]/)||!b.match(/[0-9]/)||!b.match(/[`~!@#$%^*]/gi)){if(gMobileCheck()){_alert(lang["common.msg04"])}else{_alert(lang["common.msg04"],a)}return false}else{var c=b.replace(/[a-zA-Z0-9~!@#$%^*]/gi,"");if(c.length>0){if(gMobileCheck()){_alert(lang["comm.msg33"])}else{_alert(lang["comm.msg33"],a)}return false}}return true},userId:function(a){var b=a.replace(/[^a-zA-Z0-9]/g,"");if(!isNaN(Number(b.substring(0,1)))){return false}if(!isNaN(b)){return false}return this.string(b,4,12)},email:function(b){var a=/^[a-zA-Z0-9._!#$%&*+-/=?^{}~]+@[a-zA-Z0-9.-]+(?:\.[a-zA-Z0-9-]+)+$/i;return a.test(b)},english:function(b){var a=/[^a-zA-Z]/gi;return a.test(b)},securityCode:function(c,j,i,h){if(!c){return false}if(c.length!==4){return false}var a=c.split("");if(a[0]===a[1]&&a[0]===a[2]&&a[0]===a[3]){return false}var k=["1","0","0","4","0","1","2","3","4","5","6","7","8","9","0"];var g=k.length-3;var b=[];var d;var e=k.reverse();var f=[];for(d=0;d<g;d++){b.push(k[d]+k[d+1]+k[d+2]+k[d+3]);f.push(e[d]+e[d+1]+e[d+2]+e[d+3])}b=b.concat(f);g=b.length;for(d=0;d<g;d++){if(b[d]===c){return false}}if(j&&j.indexOf(c)!==-1){return false}if(i&&i.indexOf(c)!==-1){return false}return !(h&&h.indexOf(c)!==-1)}};var gProtect={bContextMenu:typeof document.body.oncontextmenu==="function",functionKey:this.bContextMenu?[8,9,13,16,17,18,20,21,22,25,27,32,33,34,35,36,37,38,39,40,45,46,96]:[8,9,13,16,17,18,20,21,22,25,27,32,33,34,35,36,37,38,39,40,45,46,67,86,96],functionCheck:function(b){var c=this.functionKey.length;var a=0;for(a;a<c;a++){if(this.functionKey[a]===b){return true}}return false},arSetBind:{},unSet:function(o,h){var k=this;var e=[];var c={};var n=0;var g=Object.keys(k.arSetBind).length;var f=gIsSet(o[0])?o[0]:o;var j;var m;for(m=0;m<g;m++){j=k.arSetBind[Object.keys(k.arSetBind)[m]];var b=false;var p=gIsSet(j[0].length)?j[0].length:1;var d=0;for(d;d<p;d++){var i=gIsSet(j[0][d])?j[0][d]:j[0];if(i.id===f.id){e.push(m);b=true}}if(!b){c[n]=j;n++}}var a=e.length;for(m=0;m<a;m++){j=e[m];var l=k.arSetBind[j];if(typeof l[1]!=="undefined"){if(h==="keydown"&&arguments[2]){l[1](arguments[2])}gEventListener(l[0],"remove","keydown",l[1])}if(typeof l[2]!=="undefined"){if(h==="keyup"&&arguments[2]){l[2](arguments[2])}gEventListener(l[0],"remove","keyup",l[2])}if(typeof l[3]!=="undefined"){if(h==="blur"&&arguments[2]){l[3](arguments[2])}gEventListener(l[0],"remove","blur",l[3])}}k.arSetBind=c},set:function(d,b,c,e,a){if(!e){e=c}this.arSetBind[Object.keys(this.arSetBind).length]=[d,b,c,e];if(b){gEventListener(d,"add","keydown",b)}if(c){gEventListener(d,"add","keyup",c)}if(e){gEventListener(d,"add","blur",e)}if(a){switch(a.type){case"keydown":b(a.event);break;case"keyup":c(a.event);break;case"blur":e(a.event);break}}},number:function(f,c){if(!gIsSet(f)){return false}var d=!gIsSet(f.length);var b=d?1:f.length;var a=0;for(a;a<b;a++){var e=d?f:f[a];e.setAttribute("imeMode","disabled");this.set(e,function(h){var g=h.keyCode;if(gProtect.functionCheck(g)){return true}if((g>=48&&g<=57)||(g>=96&&g<=105)){return true}if(h.ctrlKey){return true}h.returnValue="";return false},function(j){if((j.keyCode>=37&&j.keyCode<=40)){return}var g=new RegExp("[^0-9]","g");var i=j.target;var h=i.value;if(!gProtect.valueTest(i,g)){h=h.replace(/[^0-9]/g,"");gEquals(i,h,"value")}if(c){gEquals(i,gCurrency(h),"value")}})}},numberFloat:function(i,f,j,e,b,h){if(!gIsSet(i)){return false}var d=isNaN(i.length);var c=d?1:i.length;var g=0;for(g;g<c;g++){var a=d?i:i[g];gEquals(a,{imeMode:"disabled","data-place":f},"attr");this.set(a,function(m){var k=m.keyCode;var l=Number(m.target.getAttribute("data-place"));if(gProtect.functionCheck(k)){return true}if((k===78)||(k===110&&l!==0)||(k===190&&l!==0)||(k>=48&&k<=57)||(k>=96&&k<=105)){return true}if(m.ctrlKey){return true}m.returnValue="";return false},function(q){if((q.keyCode>=37&&q.keyCode<=40)){return}var p=q.target;var n=(typeof p.value==="undefined")?"":p.value;var l=new RegExp("[^0-9.]","g");var o=Number(p.getAttribute("data-place"));var k="";if(p.getAttribute("type")!=="number"&&String(n).substring(0,1)==="0"&&String(n).substring(0,2)!=="0."){p.value=parseFloat(n);n=p.value.toString()}if(p.getAttribute("type")==="number"&&n===""){p.value=""}if(!gProtect.valueTest(p,l)){n=n.replace(/[^0-9.]/g,"");gEquals(p,n,"value")}if(n==="."){n=""}var m=n.split(".");if(m.length>2){n=n.substr(0,n.length-1);gEquals(p,n,"value")}if(h){gEquals(p,gCurrency(n),"value")}if(o){if(typeof m[1]==="undefined"){return false}if(m[1]&&m[1].length>o){k=lang["comm.msg26"];if(e){k=e.msg;k=k.replace("{{num}}",e.place)}else{k=k.replace("{{num}}",o)}if(!j){_alert(k)}p.value=""}}if(j){j(gIsEmpty(k)?undefined:k)}},undefined,b)}},price:function(f,b){if(!gIsSet(f)){return false}var c=isNaN(f.length);var e=c?1:f.length;var a=0;for(a;a<e;a++){var d=c?f:f[a];d.setAttribute("imeMode","disabled");this.set(d,function(h){var g=h.keyCode;if(gProtect.functionCheck(g)){return true}if((g>=48&&g<=57)||(g>=96&&g<=105)){return true}h.returnValue="";return false},function(j){if((j.keyCode>=37&&j.keyCode<=40)){return}var i=j.target;var g=i.value.replace(/[^0-9]/g,"");if(i.value!==g){if(i.getAttribute("maxLength")&&g.length>i.getAttribute("maxLength")){var h=g.length-parseInt(i.getAttribute("maxLength"));g=g.substring(0,g.length-h);g=g.replace(/[^0-9]/g,"")}gEquals(i,g,"value")}if(i.getAttribute("type")!=="number"&&String(g).substring(0,1)==="0"&&String(g).substring(0,2)!=="0."){i.value=parseFloat(g);g=i.value.toString()}if(i.value===0){gEquals(i,"","value")}if(b){gEquals(i,gCurrency(g),"value")}})}},priceFloat:function(h,e,d,f,i){if(!gIsSet(h)){return false}var c=isNaN(h.length);var b=c?1:h.length;var g=0;for(g;g<b;g++){var a=c?h:h[g];a.setAttribute("imeMode","disabled");this.set(a,function(k){var j=k.keyCode;if(gProtect.functionCheck(j)){return true}if((j===110&&e!==0)||(j===190&&e!==0)||(j>=48&&j<=57)||(j>=96&&j<=105)){return true}k.returnValue="";return false},function(p){if((p.keyCode>=37&&p.keyCode<=40)){return}var o=p.target;if(String(o.value).substring(0,1)==="0"&&String(o.value).substring(0,2)!=="0."){gEquals(o,parseFloat(o.value),"value")}var m=gCurrency(o.value.replace(/[^0-9.]/g,""));if(o.value!==m){if(o.getAttribute("maxLength")&&m.length>o.getAttribute("maxLength")){var n=m.length-parseInt(o.getAttribute("maxLength"));m=m.substring(0,m.length-n);m=m.replace(/[^0-9.]/g,"");m=gCurrency(m)}gEquals(o,m,"value")}var k=o.value.split(".");var j="";if(k.length>2){m=o.value.substr(0,o.value.length-1);gEquals(o,m,"value")}if(f){gEquals(o,gCurrency(m),"value")}if(e){if(typeof k[1]==="undefined"){if(i){i(undefined)}return false}if(k[1]&&k[1].length>e){j=lang["comm.msg26"];var l=e;if(d){j=d;l=Number("1e-"+e)}j=j.replace("{{num}}",l);_alert(j);gEquals(o,"","value");o.blur()}}if(i){i(gIsEmpty(j)?undefined:j)}})}},enNumber:function(f){if(!gIsSet(f)){return false}var b=!gIsSet(f.length);var e=b?1:f.length;var a=0;var c=arguments[1];for(a;a<e;a++){var d=b?f:f[a];d.setAttribute("imeMode","inactive");this.set(d,function(h){var g=h.keyCode;if(gProtect.functionCheck(g)){return true}if((g>=48&&g<=57)||(g>=65&&g<=90)||(g>=97&&g<=122)||g===186||g===189||g===190){return true}h.returnValue="";return false},function(j){var h="";var i=j.target;if(sCoinKey==="C0107"||sCoinKey==="C0555"||sCoinKey==="C0224"||sCoinKey==="C0577"||c){h=":"}else{if(sCoinKey==="C0138"||sCoinKey==="C0523"||sCoinKey==="C0288"){h="-|."}else{if(sCoinKey==="C0202"||sCoinKey==="C0140"||sCoinKey==="C0419"){h="_"}else{if(sCoinKey==="C0129"){h="."}}}}var g=new RegExp("[^a-zA-Z0-9"+h+"]","g");if(!gProtect.valueTest(i,g)){gEquals(i,i.value.replace(g,""),"value")}})}},korean:function(e){var b=isNaN(e.length);var d=b?1:e.length;var a=0;for(a;a<d;a++){var c=b?e:e[a];c.setAttribute("imeMode","active");this.set(c,function(g){var f=g.keyCode;if(gProtect.functionCheck(f)){return true}if(f===229){return true}g.returnValue="";return false},null,function(f){gEquals(f.target,gIsEmpty(f.target.value)?"":f.target.value.replace(/[^가-힣]/g,""),"value")})}},trim:function(e){if(!gIsSet(e)){return false}var b=isNaN(e.length);var d=b?1:e.length;var a=0;for(a;a<d;a++){var c=b?e:e[a];c.setAttribute("imeMode","inactive");this.set(c,function(g){var f=g.keyCode;if(f!==32){return true}g.returnValue="";return false},function(f){gEquals(f.target,f.target.value.allTrim(),"value")})}},koEn:function(e){if(!gIsSet(e)){return false}var b=isNaN(e.length);var d=b?1:e.length;var a=0;for(a;a<d;a++){var c=b?e:e[a];c.setAttribute("imeMode","inactive");this.set(c,function(g){var f=g.keyCode;if(gProtect.functionCheck(f)){return true}if((f>=48&&f<=57)||(f>=65&&f<=90)||(f>=97&&f<=122)||f===186||f===229){return true}if(gMobileCheck()&&(f===0||f===229)){return true}g.returnValue="";return false},function(h){var f=new RegExp("[^a-zA-Zㄱ-힣|\u318D\u119E\u11A2\u2022\u2025\u00B7\uFE55\u4E10\u3163\u3161\u1100-\u1112]","g");var g=h.target;if(!gProtect.valueTest(g,f)){gEquals(g,g.value.replace(f,""),"value");_alert(lang["common.msg208"])}})}},english:function(e){if(!gIsSet(e)){return false}var b=isNaN(e.length);var d=b?1:e.length;var a=0;for(a;a<d;a++){var c=b?e:e[a];c.setAttribute("imeMode","disabled");this.set(c,function(g){var f=g.keyCode;if(gProtect.functionCheck(f)){return true}if((f>=65&&f<=90)||(f>=97&&f<=122)){return true}g.returnValue="";return false},function(h){var f=new RegExp("[^a-zA-Z]","g");var g=h.target;if(!gProtect.valueTest(g,f)){gEquals(g,g.value.replace(f,""),"value")}})}},valueTest:function(b,c){var a=gIsSet(b)?b.value.toString():"";return !(c.test(a))},textOnly:function(e){if(!gIsSet(e)){return false}var b=isNaN(e.length);var d=b?1:e.length;var a=0;for(a;a<d;a++){var c=b?e:e[a];c.setAttribute("imeMode","inactive");this.set(c,function(g){var f=g.keyCode;if(gProtect.functionCheck(f)){return true}if((f>=65&&f<=90)||(f===229)){return true}g.returnValue="";return false},function(h){var f=new RegExp("[^a-zA-Zㄱ-ㅎ가-힣]","g");var g=h.target;if(!gProtect.valueTest(g,f)){gEquals(g,g.value.replace(f,""),"value")}})}},translateInput:function(e){if(!gIsSet(e)){return false}var b=isNaN(e.length);var d=b?1:e.length;var a=0;for(a;a<d;a++){var c=b?e:e[a];this.set(c,function(g){var f=g.keyCode;if(gProtect.functionCheck(f)){return true}if((f>=48&&f<=57)||(f>=65&&f<=90)||(f>=96&&f<=122)||(f>=186&&f<=192)||f===219||f===220||f===221||f===222||f===229){return true}g.returnValue="";return false},function(f){gEquals(f.target,f.target.value.replace(/[^ㄱ-힣0-9a-zA-Z,.!@#$%^&*()-_=+<>/?'"`~}{]/g,""),"value")})}}};if(!Array.isArray){Array.prototype.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}}if(!String.prototype.allTrim){String.prototype.allTrim=function(){return this.replace(/\s/gi,"")}}if(!Array.prototype.filter){Array.prototype.filter=function(g){if(this===void 0||this===null){throw new TypeError()}var d=Object(this);var e=d.length>>>0;if(typeof g!=="function"){throw new TypeError()}var c=[];var f=arguments.length>=2?arguments[1]:void 0;var b=0;for(b;b<e;b++){if(b in d){var a=d[b];if(g.call(f,a,b,d)){c.push(a)}}}return c}}if(!Array.prototype.some){Array.prototype.some=function(e){if(this==null){throw new TypeError("Array.prototype.some called on null or undefined")}if(typeof e!=="function"){throw new TypeError()}var b=Object(this);var c=b.length>>>0;var d=arguments.length>=2?arguments[1]:void 0;var a=0;for(a;a<c;a++){if(a in b&&e.call(d,b[a],a,b)){return true}}return false}}if(!Math.sign){Math.sign=function(a){return((a>0)-(a<0))||+a}}Number.prototype.toFixed=function(a){return bcround(this,a)};if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function(d,e){if(this==null){throw new TypeError('"this" is null or not defined')}var f=Object(this);var a=f.length>>>0;if(a===0){return false}var g=e|0;var c=Math.max(g>=0?g:a-Math.abs(g),0);function b(h,i){return h===i||(typeof h==="number"&&typeof i==="number"&&isNaN(h)&&isNaN(i))}while(c<a){if(b(f[c],d)){return true}c++}return false}})}function gOffset(a){var c=0;var b=0;while(a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop)){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}return{top:b,left:c}}function gPostcode(c,g,b){if(g!=="KOR|82"&&g!=="KOR"){return}if(typeof daum==="undefined"){if(b){b(null,false)}else{var f=["samplePostcode","sampleAddress","samplePostcodeEnt","sampleAddressEnt","sampleAddressSubEnt","sampleAddress2"];var e=f.length;var d=0;for(d;d<e;d++){var h=document.getElementById(f[d]);if(gIsSet(h)){h.removeAttribute("readonly")}}}}else{var a=function(){var j=Math.floor(window.outerWidth*0.8);var i=400;var l=1;if(j>600){j=600}if(j<=300){j=302}var k=((window.innerHeight||document.documentElement.clientHeight)-i)/2-l;k=k<50?50:k;document.getElementById("juso_layer").style.left=((window.innerWidth||document.documentElement.clientWidth)-j)/2-l+"px";document.getElementById("juso_layer").style.top=k+"px"};new daum.Postcode({oncomplete:function(j){var i;var k="";if(j.userSelectedType==="R"){i=j.roadAddress}else{i=j.jibunAddress}if(j.userSelectedType==="R"){if(j.bname!==""){k+=j.bname}if(j.buildingName!==""){k+=(k!==""?", "+j.buildingName:j.buildingName)}i+=(k!==""?" ("+k+")":"")}if(b){b({post:j.zonecode,addr:i},true)}else{if(c==="Ent"){gEquals(document.getElementById("samplePostcode"+c),j.zonecode,"value");gEquals(document.getElementById("sampleAddress"+c),i,"value");document.getElementById("sampleAddress2"+c).removeAttribute("readonly");document.getElementById("sampleAddress2"+c).focus()}else{gEquals(document.getElementById("samplePostcode"),j.zonecode,"value");gEquals(document.getElementById("sampleAddress"),i,"value");document.getElementById("sampleAddress2").removeAttribute("readonly");document.getElementById("sampleAddress2").focus()}}gClosePostcode()},width:"100%",height:gMobileCheck()?"100%":"500px",maxSuggestItems:5}).embed(document.getElementById("juso_layer"));gClosePostcode();document.getElementById("juso_layer").classList.add("on");if(gMobileCheck()){a()}}}function gClosePostcode(){document.getElementById("juso_layer").classList.remove("on")}function gDomReady(b,a){if(document.attachEvent?document.readyState==="complete":document.readyState!=="loading"){b()}else{document.addEventListener("DOMContentLoaded",b)}if(a){a()}}function gTrigger(f,c){if(!f){return}var a=document;var b;if(f.ownerDocument){a=f.ownerDocument}else{if(f.nodeType===9){a=f}}if(f.dispatchEvent){var e;switch(c){case"click":case"mousedown":case"mouseup":e="MouseEvents";break;case"focus":case"change":case"blur":case"select":e="HTMLEvents";break;default:e="HTMLEvents";break}var d=c!=="change";b=a.createEvent(e);b.initEvent(c,d,true);b.synthetic=true;f.dispatchEvent(b,true)}else{if(f.fireEvent){b=a.createEventObject();b.synthetic=true;f.fireEvent("on"+c,b)}}}function gEventListener(e,f,c,i){if(!gIsSet(e)||(e.length===0&&e.toString()!=="[object Window]")){return}var g=function(s,q,r){var p=s.toString()==="[object Window]"?window:s;if(p.addEventListener){if(["touchstart","touchmove"].indexOf(q)!==-1){p.addEventListener(q,r,{passive:true})}else{p.addEventListener(q,r)}}else{p.attachEvent("on"+q,r)}};var n=function(s,q,r){var p=s.toString()==="[object Window]"?window:s;if(p.removeEventListener){p.removeEventListener(q,r)}else{p.detachEvent("on"+q,r)}};var m=function(s,q,p,r){if(typeof r!=="function"){s[p]=r;return}if(q==="all"){n(s,p,r);g(s,p,r)}else{if(q==="add"){g(s,p,r)}else{if(q==="remove"){n(s,p,r)}}}};var o=gIsSet(e)?e.length:true;var b=e.tagName==="SELECT";var k;var d;var h;var j;var a;if(!o||b){if(typeof c==="object"){a=Object.keys(c).length;for(h=0;h<a;h++){k=Object.keys(c)[h];d=c[k];m(e,f,k,d)}}else{m(e,f,c,i)}}else{for(j=0;j<o;j++){var l=e[j];if(!gIsSet(l)){continue}if(typeof c==="object"){a=Object.keys(c).length;for(h=0;h<a;h++){k=Object.keys(c)[h];d=c[k];m(l,f,k,d)}}else{m(l,f,c,i)}}}}function gClassAll(l,f,h){if(!gIsSet(l)||h===""||h===" "){return}var d=l.length;var q=gIsSet(d)?d:1;var c=h.length;var j=0;var i=0;var g=0;var e=Object.prototype.toString.call(l);var b=((e==="[object HTMLCollection]"||e==="[object NodeList]")&&(f==="remove"));var a=null;var p=null;var o="";var k=true;var m=function(v,s,u,r,t){if(s==="add"){if(t){v[0].add(u)}else{v[1].setAttribute("class",r+" "+u)}}else{if(t){v[0].remove(u)}else{v[1].setAttribute("class",r.replace(u,""))}}};for(j;j<q;j++){a=l;if(gIsSet(l.length)){if(b&&q!==l.length){a=l[g]}else{a=l[j]}}if(a.nodeType!==1){continue}k=a.classList;if(k){p=a.classList}else{p=a.getAttribute("class")||""}o=p.toString();if(f==="add"){if(typeof h==="object"){for(i=0;i<c;i++){if(!gIsEmpty(h[i])){if(o.indexOf(h[i])===-1){m([p,a],"add",h[i],o,k)}}}}else{if(o.indexOf(h)===-1){m([p,a],"add",h,o,k)}}}else{if(f==="remove"){if(typeof h==="object"){var n=false;for(i=0;i<c;i++){if(!gIsEmpty(h[i])){if(o.indexOf(h[i])!==-1){m([p,a],"remove",h[i],o,k);n=true}}}if(!n){g++}}else{if(o.indexOf(h)!==-1){m([p,a],"remove",h,o,k)}else{g++}}}}}}function gLoadJSON(c,a){var b=new XMLHttpRequest();if(b.overrideMimeType){b.overrideMimeType("application/json")}b.open("GET",c,true);b.onreadystatechange=function(){if(b.readyState===4&&b.status===200){a(b.responseText)}};b.send(null)}function gGt(d,c){var e=[];var a=d.length;var b=c+1;for(b;b<a;b++){e.push(d[b])}return e}function gLt(c,b){var d=[];var a=b;for(a;a>0;a--){d.push(c[a-1])}return d}function gIndex(e,b){var a=-1;var c=e.length;var d=0;for(d;d<c;d++){if(e[d]===b){a=d;break}}return a}function gSiblings(c,a){var b=[];[].filter.call(c.parentElement.children,function(e){if(a){var d=a.indexOf(".");if(e!==c){if(d!==-1){if(gHasClass(e,a.replace(".",""))){b.push(e)}}else{if(e.tagName===a.toUpperCase()){b.push(e)}}}}else{if(e!==c){b.push(e)}}});return b}function gChildren(c,a){var b=[];[].filter.call(c.children,function(d){if(a===d.tagName.toLowerCase()){b.push(d)}});return b}function gSerialize(g){var c=[];var a=g.querySelectorAll("input, select, textarea");var h=a.length;var d=0;for(d;d<h;d++){if(gIsEmpty(a[d].name)||a[d].type==="image"||a[d].type==="submit"||a[d].type==="button"||((a[d].type==="checkbox"||a[d].type==="radio")&&!a[d].checked)||a[d].disabled){continue}var b=a[d];var f=b.name;var e=b.getAttribute("data-serialize");var i;if(e==="strong"){i=b.value}else{i=(b.value.indexOf(",")===-1)?b.value:gNumeric(b.value)}if(f){c.push(f,"=",i,"&")}}return c.slice(0,c.length-1).join("")}function gSerializeArray(f){var h=[];var c=f.querySelectorAll("input, select, textarea");var g=c.length;var e=0;for(e;e<g;e++){var b=c[e];var d=b.name;var a=b.value;if(b.getAttribute("type")==="radio"){if(!b.checked){continue}}if(d){h.push({name:d,value:a})}}return h}function gGetCookie(a){return gCookie.get(a)}function gCurrency(j,a){var g=gExponential(j);var h=g;var f="";var e;if(h.indexOf(".")!==-1){h=h.split(".")[0]}if(Number(h)<0){f="-";h=h.replace("-","")}var d=a?a:3;var i=h.length;var c=i%d;var b=i-d+1;c=(c===0)?d:c;if(i<=d||d<1){return g}e=h.substring(0,c);while(c<=b){e+=","+h.substring(c,c+3);c+=d}if(g.indexOf(".")!==-1){e+=("."+g.split(".")[1])}return f+e}function gCheckPeriod(d,a){var e=new Date();var c=moment(d,"YYYY-MM-DD HH:mm:ss");if(!gIsSet(d)&&gIsSet(a)){return e<c}else{var b=moment(a,"YYYY-MM-DD HH:mm:ss");return e>c&&e<b}}function gAutoTab(d,a,c){var b=c;if(d.getAttribute("maxlength")>0){b=d.getAttribute("maxlength")}if(b<1){return}d.addEventListener("keyup",function(){if(d.value.length>=b){a.focus()}})}function gMobileCheck(){var a=location.hostname.indexOf("m.")!==-1;(function(b){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){a=true}})(navigator.userAgent||navigator.vendor||window.opera);return a}function gNumeric(a){var c=String(a).replace(/[^0-9.-]/g,"");var b=parseFloat(c).toString();return isNaN(Number(b))?0:Number(b)}function gXhr(b){var a=this;a.xhr=null;a.option=null;a.duplicate=false;a.init=function(f){var e=gCookie.get("csrf_xcoin_name");var i=(f.url.indexOf("/getTradeData")!==-1||f.url.indexOf("/orderbook")!==-1||f.url.indexOf("/global.json")!==-1);this.xhr=new XMLHttpRequest();var j=arrAbortExclude.filter(function(k){return f.url.indexOf(k)!==-1});j=j.length===0&&arrAbortExclude.indexOf(f.url)===-1;if(j){arrAjaxRequest.push({el:a.xhr,opt:f})}if(!i){if(!gIsSet(f.data)){f.data={csrf_xcoin_name:e}}else{if(typeof(f.data)==="object"){if(f.data===null){f.data={}}f.data.csrf_xcoin_name=e}else{if(f.data.indexOf("csrf_xcoin_name")===-1){f.data+="&csrf_xcoin_name="+e}}}}f.type=(gIsSet(f.type)?f.type.toUpperCase():"GET");f.data=f.data||"";f.dataType=(gIsSet(f.dataType)?f.dataType.toLowerCase():"text");f.responseType=typeof f.responseType==="undefined"?"":f.responseType;f.cache=typeof f.cache==="undefined"?false:f.cache;f.async=typeof f.async==="undefined"?true:f.async;f.message=typeof f.message==="undefined"?true:f.message;f.beforeSend=f.beforeSend||undefined;f.progress=f.progress||undefined;f.success=f.success||undefined;f.complete=f.complete||undefined;f.error=f.error||undefined;a.option=f;if(gIsSet(a.option.beforeSend)){a.option.beforeSend()}var h=f.url+"?";var d=new Date().getTime();var c;if(a.option.type==="GET"){if(gIsSet(f.data.apiCall)){h=f.url}else{if(i){h=f.url+"?"+a.option.data}else{h+=Object.keys(a.option.data).map(function(k){return k+"="+a.option.data[k]}).join("&");h+="&_="+d}}}if(a.option.type==="POST"&&(typeof a.option.data)==="object"){c=Object.keys(a.option.data).map(function(k){if(typeof a.option.data[k]==="object"){return Object.keys(a.option.data[k]).map(function(l){if(typeof a.option.data[k][l]==="object"){return Object.keys(a.option.data[k][l]).map(function(m){return k+"["+l+"]["+m+"]="+a.option.data[k][l][m]}).join("&")}return k+"["+l+"]="+a.option.data[k][l]}).join("&")}return k+"="+a.option.data[k]}).join("&");if(!i){if(f.url.indexOf("/trade/wsevent")>-1){h=f.url+="&_="+d}else{h+="_="+d}}}else{c=a.option.data}a.xhr.open(f.type,h,f.async);a.header();a.xhr.onprogress=a.progress;a.xhr.onerror=a.error;a.xhr.onreadystatechange=a.change;if(!gIsEmpty(f.responseType)){a.xhr.responseType=f.responseType}try{a.xhr.send(c)}catch(g){setNetworkState(0,false);a.xhr.onerror(g);_console.log("xhr err = ",g)}};a.header=function(){if(a.option.dataType==="json"){a.xhr.setRequestHeader("Accept","application/json, text/javascript, */*")}if(a.option.type==="POST"){a.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}if(!gIsSet(b.data.apiCall)){a.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest")}};a.change=function(){switch(a.xhr.readyState){case 0:break;case 1:break;case 2:break;case 3:break;case 4:a.duplicate=false;a.complete();break}};a.progress=function(c){return c.loaded/c.totalSize*100};a.complete=function(){setNetworkState(0,a.xhr.status!==0);if(a.xhr.status===200){if(a.xhr.responseType==="blob"){a.success(a.xhr)}else{var g=a.xhr.responseText;if(a.option.dataType==="json"){try{g=JSON.parse(a.xhr.responseText)}catch(f){throw new Error("JSON parse error => request url: "+a.option.url+"\n"+f)}}if(g.error==="7000"){if(!gIsEmpty(g.message)&&gIsSet(g.message)){if(gMobileCheck()){_alert(g.message,undefined,function(){if(!gIsEmpty(g.data)&&gIsSet(g.data)){window.location.href=g.data}})}else{_alert(g.message,"","",function(){if(!gIsEmpty(g.data)&&gIsSet(g.data)){window.location.href=g.data}})}}else{if(!gIsEmpty(g.data)&&gIsSet(g.data)){if(IOS_CHECK){setTimeout(function(){window.location.href=g.data},200)}else{window.location.href=g.data}}}return}else{if(g.error==="2500"){if(!gIsEmpty(g.data)&&gIsSet(g.data)){if(IOS_CHECK){setTimeout(function(){window.location.href=g.data},200)}else{window.location.href=g.data}}}else{if(g.error==="1930"){gCookie.remove("bt_lab");gCookie.remove("bt_react");alert("빗썸 실험실 체험 기간이 종료되었습니다.");location.push("/")}}}a.success(a.xhr.responseText)}}else{a.error()}if(gIsSet(a.option.complete)){a.option.complete(a.xhr.response)}var d=fnRequestIndex(b);var e=d.length;var c=0;for(c;c<e;c++){arrAjaxRequest.splice(d[c],1)}};a.success=function(c){gRenewAppToken();if(gIsSet(a.option.success)){var e=c;if(a.option.dataType==="json"){try{e=JSON.parse(e)}catch(d){throw new Error("JSON parse error => request url: "+a.option.url+"\n"+d)}}a.option.success(e)}if(a.option.message&&!gMobileCheck()){if(e){if(e.message){_alert(e.message.replace("\\n","<br>"),"","",function(){if(e.url){location.href=e.url}})}}}};a.error=function(){if(gIsSet(a.option.error)){a.option.error("responseURL: "+a.xhr.responseURL+", errorCode: "+a.xhr.status+", errorMessage: "+a.xhr.statusText)}};a.init(b)}function ajaxRequest(a){fnAjaxAbort(a);new gXhr(a)}function fnRequestIndex(a){return arrAjaxRequest.map(function(c,b){return(c.opt.url===a.url)?b:null}).filter(function(b){return b!==null})}function fnAjaxAbort(d){var b=fnRequestIndex(d);var c=b.length;var a=0;for(a;a<c;a++){arrAjaxRequest[b[a]].el.abort();arrAjaxRequest.splice(b[a],1)}}function gBCMath(e,d,p,f,j){if(!gIsSet(e)||!gIsSet(d)){return"0"}var o=gExponential(e);var n=gExponential(d);var i=Math.sign(o)===-1;var m=p;var c=f;var b=0;if(!c){c="-"}if(!gIsSet(m)||m===undefined){var l=o.indexOf(".")!==-1?o.split(".")[1].length:0;var h=n.indexOf(".")!==-1?n.split(".")[1].length:0;if(l>h){m=l}else{m=h}}m=Number(m);switch(c){case"+":b=bcadd(o,n,m);break;case"-":b=bcsub(o,n,m);break;case"*":b=bcmul(o,n,m);break;case"/":b=0;if(Number(n)!==0){o=(i)?String(o).replace("-",""):o;if(Number(o)<1||Number(n)<1){b=bcdiv(bcmul(o,10000000000000000),bcmul(n,10000000000000000),m)}else{b=bcdiv(o,n,m)}b=(i)?bcmul(b,-1,m):b}break;case"%":b=0;if(Number(o)<1||Number(n)<1){b=bcdiv(bcmul(o,10000000000000000)%bcmul(n,10000000000000000),10000000000000000,m)}else{b=o%n}break}if(j&&Number(b)!==0&&b.indexOf(".")!==-1){var k=0;var a=b.length;var g;for(g=a;g>=0;g--){if(b.substr(g,1)==="."){k=a-g;break}if(Number(b.substr(g,1))>0){k=a-g-1;break}}b=b.substr(0,a-k)}return b.toString()}function gExponential(a){if(!gIsSet(a)){return"0"}var b=typeof a!=="string"?a.toString():a;b=b.indexOf(",")!==-1?b.replace(/,/g,""):b;if(b.indexOf("e")!==-1){b=(Math.sign(b)===-1)?"-"+fnLongNumberString(Math.abs(b)):fnLongNumberString(Number(b))}return b}function fnLongNumberString(d){var a=d.toExponential().replace(".","").split(/e/i);var e=a[0];var c=e.length;var f="";var b=Number(a[1]);if(b>=0&&c>b){b+=1;return e.substring(0,b)+(e.substring(b)===""?"":"."+e.substring(b))}if(b<0){while(++b){f+="0"}return"0."+f+e}b=(b-c)+1;while(b>f.length){f+="0"}return e+f}function gSHA256(p){var k=8;var n=0;function i(q,t){var s=(q&65535)+(t&65535);var r=(q>>16)+(t>>16)+(s>>16);return(r<<16)|(s&65535)}function e(r,q){return(r>>>q)|(r<<(32-q))}function f(r,q){return(r>>>q)}function a(q,s,r){return((q&s)^((~q)&r))}function d(q,s,r){return((q&s)^(q&r)^(s&r))}function g(q){return(e(q,2)^e(q,13)^e(q,22))}function b(q){return(e(q,6)^e(q,11)^e(q,25))}function o(q){return(e(q,7)^e(q,18)^f(q,3))}function j(q){return(e(q,17)^e(q,19)^f(q,10))}function c(r,s){var E=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);var t=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225);var q=new Array(64);var G,F,D,C,A,y,x,w,v,u;var B,z;r[s>>5]|=128<<(24-s%32);r[((s+64>>9)<<4)+15]=s;for(var v=0;v<r.length;v+=16){G=t[0];F=t[1];D=t[2];C=t[3];A=t[4];y=t[5];x=t[6];w=t[7];for(var u=0;u<64;u++){if(u<16){q[u]=r[u+v]}else{q[u]=i(i(i(j(q[u-2]),q[u-7]),o(q[u-15])),q[u-16])}B=i(i(i(i(w,b(A)),a(A,y,x)),E[u]),q[u]);z=i(g(G),d(G,F,D));w=x;x=y;y=A;A=i(C,B);C=D;D=F;F=G;G=i(B,z)}t[0]=i(G,t[0]);t[1]=i(F,t[1]);t[2]=i(D,t[2]);t[3]=i(C,t[3]);t[4]=i(A,t[4]);t[5]=i(y,t[5]);t[6]=i(x,t[6]);t[7]=i(w,t[7])}return t}function h(t){var s=Array();var q=(1<<k)-1;for(var r=0;r<t.length*k;r+=k){s[r>>5]|=(t.charCodeAt(r/k)&q)<<(24-r%32)}return s}function m(r){r=r.replace(/\r\n/g,"\n");var q="";for(var t=0;t<r.length;t++){var s=r.charCodeAt(t);if(s<128){q+=String.fromCharCode(s)}else{if((s>127)&&(s<2048)){q+=String.fromCharCode((s>>6)|192);q+=String.fromCharCode((s&63)|128)}else{q+=String.fromCharCode((s>>12)|224);q+=String.fromCharCode(((s>>6)&63)|128);q+=String.fromCharCode((s&63)|128)}}}return q}function l(s){var r=n?"0123456789ABCDEF":"0123456789abcdef";var t="";for(var q=0;q<s.length*4;q++){t+=r.charAt((s[q>>2]>>((3-q%4)*8+4))&15)+r.charAt((s[q>>2]>>((3-q%4)*8))&15)}return t}p=m(p);return l(c(h(p),p.length*k))}function gKRWMath(g,e,h,k,b,j){var d=0;var a=MARKET_TYPE==="C0100"?2:undefined;var f=gIsSet(k)?k:a;var i=gBCMath(gNumeric(gExponential(g)),0,null,"-");var c=Number(!e?i:gBCMath(gNumeric(gExponential(e)),0,null,"-"));if(Number(gfnUnitPrice(i,undefined,true))!==0){d=!b?gBCMath(c,0,f,"-"):c.toFixed(f)}else{if(j==="round"){d=Math.round(c)}else{if(j){d=Math.floor(c)}else{if(!j){d=c}}}}d=d.toString();if(h){d=gCurrency(d)}return d}function gGetParents(d,a){if(!d||!gIsSet(d)){return false}if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.oMatchesSelector||function(f){var g=(this.document||this.ownerDocument).querySelectorAll(f);var e=g.length;while(--e>=0&&g.item(e)!==this){}return e>-1}}var c=[];var b=d.parentNode;for(;b&&b!==document;b=b.parentNode){if(a){if(b.matches(a)){c.push(b)}continue}c.push(b)}if(a){return c[0]}else{return c}}function gContains(b,a){return[].filter.call(b,function(c){var d=/[$?|[*()+.,^\\]/gi;if(d.test(a)){return false}return RegExp(a).test(gText(c,"get"))})}function gCopyToClipboard(c){if(window.clipboardData&&window.clipboardData.setData){return window.clipboardData.setData("Text",c)}else{if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var a=document.createElement("textarea");gText(a,"set",c);a.style.position="fixed";a.style.zIndex="-1";document.body.appendChild(a);if(IOS_CHECK){a.disabled=true;a.focus();a.setSelectionRange(0,c.length)}else{a.select()}try{document.execCommand("copy");return true}catch(b){console.warn("Copy to clipboard failed.",b);return false}finally{document.body.removeChild(a)}}}}function gIsEmpty(a){if(a===undefined||a===""||typeof a!=="string"){return true}return a.allTrim().length===0}function gHasClass(b,a){if(!b){return false}if(!gIsSet(a)||a===""){return false}if(!b.classList){if(b.getAttribute("class")){return b.getAttribute("class").indexOf(a)!==-1}}else{return b.classList.contains(a)}}function gVisible(d){var c=d.length;var b=false;var a=0;if(c===undefined){b=d.offsetWidth>0||d.offsetHeight>0}else{for(a;a<c;a++){if(d[a].offsetWidth>0||d[a].offsetHeight>0){b=true}}}return b}function gText(d,a,c){if(!d||!a){return}var b=d.tagName.toUpperCase()==="SELECT"?d.options[d.selectedIndex].text:d.textContent;if(a==="set"){if(b!==String(c)){if(getNavigator.browserInfo().name==="ie"){d.innerText=c}else{d.textContent=c}}}else{return b}}function gShow(b){if(!b){return}var a=arguments[1]?arguments[1]:"block";b.style.display=!gIsEmpty(b.getAttribute("data-display"))&&b.getAttribute("data-display")!=="none"?b.getAttribute("data-display"):a}function gHide(a){if(!a){return}a.setAttribute("data-display",a.style.display);a.style.display="none"}function gToggle(b,a){if(!b){return}if(!a){if(b.style.display==="none"||!(b.offsetParent!==null)){gShow(b)}else{gHide(b)}}else{if(gHasClass(b,a)){gClassAll(b,"remove",a)}else{gClassAll(b,"add",a)}}}function gIsSet(a){return a!==null&&a!==undefined}function gSetFloat(e,d){var a=String(e);if(a.indexOf("e")!==-1){a="0.0"}a=a.replace(/[^0-9.\-]/gi,"");if(isNaN(parseFloat(a))){a="0"}if(a.indexOf(".")!==-1){a=a.split(".");if(!gIsSet(d)){return a[0]}}else{return a}if(Number(d)===0){return a[0]}else{if(a[1].length>=d){a[1]=a[1].substr(0,d)}else{var f=d-a[1].length;var b="";var c=0;for(c;c<f;c++){b+="0"}a[1]+=b}}if(String(a[0])!=="0"){a[0]=String(a[0])}return Number(a.join("."))}function gLoading(a){if(!a){return}gEquals(a,'<div class="preloader-wrapper small active"><div class="spinner-layer spinner-blue-only"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div></div>',"html")}function gCheckApp(){var a=gCookie.get("platform");return a==="a"||a==="i"}function gOpenPopup(c,f,d,e,j){var a=(screen.width/2)-(d/2);var b=(screen.availHeight/2)-(e/2);var i="left="+a+", top="+b+", width="+d+", height = "+e;var g=f;if(typeof g==="undefined"){g=""}if(typeof j!=="undefined"){i+=","+j}if(i.indexOf("status")<0){i+=", status=yes"}var h=window.open(c,g,i);h.focus();return h}function gCoinNameChange(d,b){var c=d;var a;if(c==="C0524"){a=20190214110000;if(a>Number(b.replace(/[^0-9]/g,"").slice(0,14))){c="C0178";if(typeof COIN[MARKET_TYPE]["C0178"]==="undefined"){COIN[MARKET_TYPE]["C0178"]=gCloneObject(COIN[MARKET_TYPE]["C0524"])}COIN[MARKET_TYPE]["C0178"].symbol_name=lang["comm.msg46"]}}return c}function gPrice(f,d,c,g){var a=c;var e=g;if(a===undefined){a=sTickTime}if(e===undefined){e=MARKET_TYPE}var b={nClosing:d,prevClosePrice:a==="MID"?realData[e][f]["prevClosePrice"]:realData[e][f]["openPrice"],pmTaste:"",sAssetRealRate:realData[e][f]["chgRate"],sAssetRealPrice:realData[e][f]["chgAmt"],ratioClass:"",ratioClass2:""};if(Number(b.sAssetRealRate)>=100000){b.sAssetRealRate="99999.99"}if(Number(b.sAssetRealRate)>0||Number(b.sAssetRealPrice)>0){b.pmTaste="+";b.ratioClass=(Number(b.sAssetRealRate)>3)?"jump":"up";b.ratioClass2="ico_ar_pup2"}else{if(Number(b.sAssetRealRate)<0||Number(b.sAssetRealPrice)<0){b.pmTaste="-";b.ratioClass=(Number(b.sAssetRealRate)<-3)?"drop":"down";b.ratioClass2="ico_ar_pdn2"}}b.sAssetRealRate=Number(b.sAssetRealRate).toFixed(2).replace("-","");return b}function gfnUnitPrice(h,l,j,k){var a=k||MARKET_TYPE;if(a!=="C0100"){var c=Number(MARKET_INFO[a].decimalPoint_view);if(j){return c}else{var d="0.";var f=1;for(f;f<c;f++){d+="0"}d+="1";return Number(d)}}var g=["0.0001","0.001","0.01","0.1","1","5","10","50","100","500","1000"];var i=[1,10,100,5000,10000,50000,100000,500000,1000000];var b=0;var e=typeof h!=="number"?gNumeric(h):h;if(e>=1000000){b=10}else{if(e>=500000){b=9}else{if(e>=100000){b=8}else{if(e>=50000){b=7}else{if(e>=10000){b=6}else{if(e>=5000){b=5}else{if(e>=1000){b=4}else{if(e>=100){b=3}else{if(e>=10){b=2}else{if(e>=1){b=1}else{if(e<1){b=0}}}}}}}}}}}if(l==="m"){if(i.indexOf(e)!==-1){b--}}if(j){return g[b].indexOf(".")!==-1?g[b].split(".")[1].length:0}else{return Number(g[b])}}function gTenOutLength(b,a){return gNumeric(b||0)>10000?0:(a||3)}function gMinMaxPrice(h,a,g){var j=Number(h);var b=gExponential(gfnUnitPrice(h));var e=b.indexOf(".")!==-1;var k=gfnUnitPrice(h,null,true);var f=gBCMath(j,Number(gBCMath(1,(Number(a)/100),2,"-")),(e?k+1:k),"*");var i=gBCMath(j,(1+(Number(g)/100)),k,"*");if(k>0&&f.indexOf(".")!==-1){if(f.split(".")[1].length>k){f=gBCMath(f,b,k,"+")}else{f=gBCMath(f,0,k,"+")}}else{f=gBCMath(f,0,k,"+")}var d=gfnUnitPrice(f);var c=gfnUnitPrice(i);if(Number(gBCMath(f,d,null,"%"))!==0){f=gBCMath(f,gBCMath(d,gBCMath(f,d,null,"%"),null,"-"),null,"+")}if(Number(gBCMath(i,c,null,"%"))!==0){i=gBCMath(i,gBCMath(i,c,null,"%"),null,"-")}return{lastPrice:String(h),unitPrice:b,minKrw:f,maxKrw:i}}function gfnCho(d){var f="";var c=0;var a;var e=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"];var b=d.length;for(c;c<b;c++){a=d.charCodeAt(c)-44032;if(a>-1&&a<11172){f+=e[Math.floor(a/588)]}}return f}function gfnHistoryBack(b,a){if(!window.oHistoryBack){window.oHistoryBack=[]}if(a){if(window.performance&&window.performance.navigation.type===2&&b){gCookie.change[0]=true;b()}}else{oHistoryBack.push(b);window.onpageshow=function(c){if(c.persisted||(window.performance&&window.performance.navigation.type===2)&&b&&oHistoryBack.length){oHistoryBack.forEach(function(d){gCookie.change[0]=true;d()})}}}}function gCurrencyRateInit(){gRate=currencyRates[0].Rate;gSign=currencyRates[0].Sign;if(CUR_LANG==="korean"){gRate=1;gSign=""}}gCurrencyRateInit();function gPriceDataResolve(f){var l=[];var h=[];var k=0;var i=[];var n=0;var c=0;var m=f[0]?f[0][2]:0;var g=f.length;for(g;g>n;n++){var a=f[n][0];var b=parseFloat(f[n][1]);var e=parseFloat(f[n][2]);var d=parseFloat(f[n][3]);var j=parseFloat(f[n][5]);if(d<0||d===null){continue}if(b>0&&e>0){i.push([a,e]);if(b<e){l.push([a,j]);h.push([a,null])}else{l.push([a,null]);h.push([a,j])}if(e>c){c=e}if(b>c){c=b}if(e<m){m=e}k=a}}return{data:i,volumeUp:l,volumeDown:h,max:c,min:m}}function gCoinType(a,e){if(typeof COIN==="undefined"){return""}if(typeof a==="undefined"){return""}var b=Object.keys(MARKET_INFO);var c=b.length;var h=0;for(h;h<c;h++){if(!COIN[b[h]]){continue}var i=Object.keys(COIN[b[h]]);if(e){if(a===b[h]){return MARKET_INFO[b[h]]["symbol_name"]}if(gIsSet(COIN[b[h]][a])){return COIN[b[h]][a]["symbol_name"]}}else{if(a.toUpperCase()===MARKET_INFO[b[h]]["symbol_name"]){return b[h]}var d=i.length;var g=0;for(g;d>g;g++){var f=e?(a===i[g]):(COIN[b[h]][i[g]]["symbol_name"]===(a).toUpperCase());if(f){return e?COIN[b[h]][i[g]]["symbol_name"]:i[g]}}}}}function gXSSCheck(c,a){var b=c;if(a===undefined||a===0){b=b.replace(/\<|\>|\"|\'|\%|\;|\(|\)|\+|\-/g,"")}else{if(a!==undefined&&a===1){b=b.replace(/\</g,"&lt;");b=b.replace(/\>/g,"&gt;")}}return b}function gGetChartData(h,d,g,f,c){var b="https://pub2.bithumb.com";var e;var a=location.host;if(a.indexOf("local")!==-1||a.indexOf("dev")!==-1){b="https://dev-pub2.bithumb.com"}else{if(a.indexOf("qa")!==-1){b="https://qa-pub2.bithumb.com"}}e=b+"/public/candlesticknew"+(f==="tradingview"?"_trview/":"/")+d+"_"+h+"/"+g;ajaxRequest({url:e,type:"GET",dataType:"json",message:false,data:{apiCall:true},success:function(i){var j=i;if(j.status==="0000"){c(j,g)}else{j.data=[[new Date().getTime(),"0","0","0","0","0"]];if(f==="tradingview"){j.data={t:[new Date().getTime()],o:[0],c:[0],h:[0],l:[0],v:[0]}}c(j,g)}},error:function(i){_console.log(i)}})}function gEquals(g,e,c){if(!g||!gIsSet(g)){return false}switch(c){case"attr":var f=Object.keys(e);var a;var b=0;var d=f.length;for(b;d>b;b++){a=f[b];switch(a){case"checked":case"disabled":case"readOnly":case"value":g[a]=e[a];break;default:if(g.getAttribute(a)===null||g.getAttribute(a)!==e[a]){g.setAttribute(a,e[a])}}}break;case"value":if(g.value!==String(e)){g.value=e}break;case"html":if(g.innerHTML.toString()!==e.toString()){g.innerHTML=e}break}}function gContextmenuDisable(a){if(typeof a==="undefined"){document.querySelector("body").setAttribute("oncontextmenu","return false");document.querySelector("body").setAttribute("onselectstart","return false");document.querySelector("body").onpaste=function(b){b.preventDefault();return false}}else{a.setAttribute("oncontextmenu","return false");a.setAttribute("onselectstart","return false");a.onpaste=function(b){b.preventDefault();return false}}}function gWhalePrice(b){var d={price:gNumeric(b.price),maxPrice:b.maxPrice?gNumeric(b.maxPrice):b.maxPrice,minPrice:b.minPrice?gNumeric(b.minPrice):b.minPrice,fee:Number(b.fee),minFee:b.minFee?b.minFee:1000,outLength:b.outLength?b.outLength:0,outPriceType:b.outPriceType,coin:b.coin,max:b.max};var c=(d.coin==="KRW")?Math.round(Number(gBCMath(d.price,d.fee,1,"*"))):Number(gBCMath(d.price,d.fee,(Number(d.outLength)+1),"*")).toFixed(Number(d.outLength));var a={price:d.price,fee:c,outPrice:d.outPriceType?Number(gBCMath(d.price,c,d.outLength,"+")):d.price,rePrice:Number(gBCMath(d.price,c))};if(d.max){a.fee=(d.coin==="KRW")?Math.round(Number(gBCMath(a.rePrice,d.fee,1,"*"))):Number(gBCMath(a.rePrice,d.fee,(Number(d.outLength)+1),"*")).toFixed(Number(d.outLength));a.price=Number(gBCMath(a.rePrice,a.fee,d.outLength,"+"));a.outPrice=d.outPriceType?Number(gBCMath(a.price,a.fee,d.outLength,"+")):a.price}if(d.price===0){a={price:0,fee:0,outPrice:0,rePrice:0}}else{if(a.fee<d.minFee){a.fee=d.minFee;a.outPrice=d.outPriceType?Number(gBCMath(d.price,a.fee,d.outLength,"+")):d.price;a.rePrice=Number(gBCMath(d.price,a.fee))}if(d.maxPrice&&(d.price>d.maxPrice)||(d.coin==="COIN"&&a.rePrice>d.maxPrice)){a.fee=Number(gBCMath(d.maxPrice,d.fee,d.outLength,"*"));a.outPrice=d.maxPrice;a.rePrice=Number(gBCMath(d.maxPrice,a.fee))}if(d.minPrice&&(d.price<d.minPrice)||(d.coin==="COIN"&&a.rePrice<d.minPrice)){a.fee=Number(gBCMath(d.minPrice,d.fee,d.outLength,"*"));a.rePrice=Number(d.minPrice);a.outPrice=Number(gBCMath(a.rePrice,a.fee,d.outLength,"+"))}}return a}function gTransferMillionPrice(a,b){var c=gBCMath(a,1000000,2,"/");var d;if(b){d=gSign+gCurrency(c)}else{if(CUR_LANG==="korean"){d=Number(c)<1?gCurrency(c):gCurrency(String(parseInt(c)||0))}else{d=gSign+gCurrency(gBCMath((c>1?Math.round(c):c),gRate,2,"/"))}}return d+"<span>"+lang["trade.order.msg07"]+"</span>"}function gPointSlice(c,d){var f=c;var e=0;var b=String(c).split(".");if(b[1]){var a=d||b[1].search(/0+$/g);if(a===-1){return f}b[1]=b[1].split("").map(function(h){var g=h!=="0"&&d===undefined?h:'<span class="opacity_3">'+h+"</span>";return e++<a?h:g}).join("");f=b.join(".")}return f}function gGetFavoriteTicker(b,c,a){ajaxRequest({url:"/trade/market_ticker",type:"post",dataType:"json",message:false,data:{symbol:c,tickType:b||"MID"},success:function(d){if(d.error==="0000"){a(d.data)}else{_alert(d.message)}},error:function(d){_console.log(d)}})}function gTransferToKrw(c,i,b,f,g){if((c===""||!i)&&CUR_LANG==="korean"){return""}var d=f==="-"?"C0100":f||"C0100";var a=f?(f==="-")?null:COIN_DATA[f].SISE_CRNC_CD:null;var h=d==="C0100";var j="-";if(gIsSet(realData[d][i])){j=gBCMath(c,realData[d][i].closePrice,20,"*",true);if(!h){j=gBCMath(j,a==="-"?0:realData[a][d].closePrice,10,"*",true)}if(CUR_LANG==="korean"||CUR_LANG===undefined){var e=gfnUnitPrice(j,null,true,"C0100");j=gCurrency(bcround(j,b||e))+(g?"":" KRW")}else{j=gKRWToCurrency(j,true)}}return j}function gGetIsMarketCoin(a){return Object.keys(COIN).filter(function(b){return Object.keys(COIN[b]).filter(function(c){return c===a}).length>0})}function gGetMinAmt(a,c){var b=gBCMath(c,a,10,"/");b=gBCMath(Math.ceil(gBCMath(b,Math.pow(10,4),10,"*")),Math.pow(10,4),4,"/",true);return Number(b)<0.0001?"0.0001":b}function gGetCoinAmtForPercent(c,g,e,j){var h=j||MARKET_TYPE;var b=document.getElementById("baseTradeFeeRate").value;var i=document.getElementById("minFeeAmt").value;var f=getLeftInfoData[h].AVAILABLE||0;var k=gBCMath(document.getElementById("limitMaxOrderAmt").value,c,4,"/");var d=gBCMath(document.getElementById("marketMaxOrderAmt").value,c,4,"/");var l=gBCMath(c,gBCMath(1,b,4,"+"),12,"*");var a=gBCMath(f,g/100,10,"*");a=gBCMath(a,gBCMath(i,100,null,"*"),null,"-");a=gBCMath(a,l,4,"/");if(!gIsSet(e)&&(Number(a)>Number(k))){a=k}if(e&&(Number(a)>Number(d))){a=d}return a}function gGetTotalPriceCheck(c,d,a){var b=document.getElementById("baseTradeFeeRate").value;var f=document.getElementById("minFeeAmt").value;var h=MARKET_TYPE==="C0100"?6:12;var i=Math.pow(10,h);var g=a;if(!gIsSet(a)){g=gBCMath(c,d,MARKET_TYPE==="C0100"?0:8,"*")}var e=gBCMath(Math.ceil(gBCMath(gBCMath(g,b,13,"*"),i,13,"*")),i,h,"/");return gBCMath(gBCMath(g,e,null,"+"),gBCMath(f,100,null,"*"),null,"+")}function gGetEasyTotalPriceForPercent(d){var f=document.getElementById("baseTradeFeeRate").value;var g=document.getElementById("minFeeAmt").value;var e=getLeftInfoData[MARKET_TYPE].AVAILABLE||0;var c=MARKET_TYPE==="C0100"?0:MARKET_INFO[MARKET_TYPE].decimalPoint_view;var b=document.getElementById("marketMaxOrderAmt").value;var a=gBCMath(gBCMath(e,d/100,10,"*"),gBCMath(g,100,null,"*"));a=gBCMath(a,gBCMath(1,f,4,"+"),c,"/");if(Number(a)>Number(b)){a=b}return a}function gGetSellMaxCoinAmt(f,e,g){var d=g||false;var a=e||getLeftInfoData[sCoinKey].AVAILABLE;var c=gBCMath(document.getElementById("limitMaxOrderAmt").value,f,4,"/");var b=gBCMath(document.getElementById("marketMaxOrderAmt").value,f,4,"/");if(!d&&(Number(a)>Number(c))){a=c}if(d&&(Number(a)>Number(b))){a=b}return gBCMath(a,0,4)}if(typeof Object.assign!=="function"){Object.assign=function(c,e){if(c==null){throw new TypeError("")}var f=Object(c);var a=1;var b=arguments.length;for(a;a<b;a++){var d=arguments[a];if(d!==null){for(var g in d){if(Object.prototype.hasOwnProperty.call(d,g)){f[g]=d[g]}}}}return f}}var gSetInterval=(function(){var b=[];var c=[];var a=function(e){var d=b[e].arrTime;this.nTime=gSetInterval.fnGetState(d[0],d.slice(1,d.length));this.fn=b[e].fn;this.fnSetInterval=setInterval(this.fn,this.nTime);this.fnClear=function(){clearInterval(this.fnSetInterval)}};return{init:function(e,d,h){b.push({fn:e,arrTime:d});var f=b.length-1;var g=new a(f);c.push(g);if(h){return function(){gSetInterval.fnclearInterval(f)}}},fnGetState:function(f,g){var e=gGlobalJson.getState(f);var d=0;for(d;d<g.length;d++){e=e[g[d]]}return e},fnAllReInterval:function(){var d=0;for(d;d<b.length;d++){if(c[d].bClear){continue}c[d].fnClear();var e=new a(d);c[d]=e}},fnclearInterval:function(d){c[d].fnClear();c[d].bClear=true},getInterval:function(){return{arrFn:b,arrVal:c}}}})();(function(b){var a=function(){this.state={version:"",pc:{getAsset:{pollingInterval:"1000"},getTradeData:{memberInterval:"5000",guestInterval:"1000",ajaxType:"GET"},orderbook:{adjustInterval:"60000",pollingInterval:"1000",useWebsocket:"false"},candlestick:{adjustInterval:"60000"},websocket:{member:"true",guest:"true",count:"1"}},mobile:{getAsset:{pollingInterval:"1000"},getTradeData:{memberInterval:"5000",guestInterval:"1000",ajaxType:"GET"},orderbook:{adjustInterval:"60000",pollingInterval:"1000",useWebsocket:"false"},candlestick:{adjustInterval:"60000"},historyTransaction:{pollingInterval:"1000"},websocket:{member:"true",guest:"true",count:"1"}},chart:{main:"true",trade:"true",popup:"true"},reset:{msg:"",time:""}};this.nIntervalTimer=10000;this.sDomain="https://perf.bithumb.com";if(!getNavigator.real()){this.sDomain=document.location.hostname.indexOf("qa")===-1?"https://dev-perf.bithumb.com":"https://qa-perf.bithumb.com"}this.sJsonUrl="/global.json"};a.prototype={init:function(){var f=this;var e=localStorage.getItem("GlobalJson");if(!gIsEmpty(e)){f.state=Object.assign(f.state,JSON.parse(e));f.state.version="";f.state.reset={msg:"",time:""}}if(!bTickInterval){f.fnSlowPage()}f.getAjaxGlobalJson();var d=["index","order","chart","market_price","info_coin","easy"];var c=CUR_METHOD==="main";var g=(LOCATION_PATH[1]==="trade"&&d.indexOf(LOCATION_PATH[2])!==-1);if(c||g){setInterval(function(){f.getAjaxGlobalJson()},f.nIntervalTimer)}},getState:function(d){var c=this;if(!d||!c.state[d]){return c.state}return c.state[d]},getAjaxGlobalJson:function(){var c=this;ajaxRequest({url:c.sDomain+c.sJsonUrl,dataType:"json",type:"post",success:function(g){if(g.version!==c.state.version){localStorage.setItem("GlobalJson",JSON.stringify(g));var k=LOGIN_CHECK==="Y";var i=gMobileCheck()?"mobile":"pc";var j=g[i].orderbook.useWebsocket;var h=g[i].orderbook.pollingInterval;var n=g[i].websocket.guest;var f=g[i].websocket.member;var l=c.getState(i).websocket;var d=l.guest;var o=l.member;var m=b.gOrderBook;var e=b.gWebSocket;c.setGlobalState(g);gSetInterval.fnAllReInterval();if(g[i].websocket.count!==e.sCount){e.fnWsClose(undefined,true)}if(m&&m.fnOrderCall&&(m.bIsDataType.toString()!==j||m.nSetTime.toString()!==h)){m.fnIntervalTypeChange();e.fnWsSend()}if(n!==d&&!k&&bMain){if(!k){e.fnWsClose()}else{e.fnWsSend()}if(i==="pc"){fnBithumbRealTime()}else{fnMainRealTime()}}if(o!==f){if(!k){e.fnWsClose()}e.fnConnect()}}}})},setGlobalState:function(d){var e=this;var c=Object.assign(e.state,d);e.state=c},fnReset:function(){var d=this;var c=d.getState("reset");var e=new Date().getTime();var f=new Date(c.time).getTime();if(e<f){setTimeout(function(){b.location.reload(true)},f-e);if(!gIsEmpty(c.msg)){if(gMobileCheck()){fnToast(c.msg)}else{fnToast(c.msg,"netErr")}}}},fnNotNetwork:function(){var c=this;c.setGlobalState({pc:{websocket:{member:"false"}},mobile:{websocket:{member:"false"}},chart:{main:"false",trade:"false",popup:"false"}})},fnSlowPage:function(){var c=this;c.setGlobalState({pc:{getTradeData:{memberInterval:"60000",guestInterval:"1000"},orderbook:{adjustInterval:"60000",pollingInterval:"1000",useWebsocket:"false"},candlestick:{adjustInterval:"60000"}},mobile:{getTradeData:{memberInterval:"60000",guestInterval:"1000"},orderbook:{adjustInterval:"60000",pollingInterval:"1000",useWebsocket:"false"},candlestick:{adjustInterval:"60000"}}})}};b.gGlobalJson=new a()})(window);gGlobalJson.init();(function(a){var b=function(){this.bIsMobile=gMobileCheck();this.sCount=a.gGlobalJson.getState(this.bIsMobile?"mobile":"pc").websocket.count;this.oWss={};if(this.sCount==="2"){this.oWss.wss1={readyState:0,connect:false,param:"public",events:["st","tk","tk_ALL","tk_MID","tr","ob"]};this.oWss.wss={readyState:0,connect:false,param:"event",events:["ac","ec"]}}else{this.oWss.wss={readyState:0,connect:false,param:"event",events:["st","tk","tk_ALL","tk_MID","tr","ob","ac","ec"]}}this.defaultOwss=gCloneObject(this.oWss);this.bIsSupport=("WebSocket" in a);this.nWsIntervalMax=[10000,10000];this.nPingTime=30000;this.nPingCloseTime=5000;this.nReConnectIndex=3;this.nReConnectTime=1000*60*3;this.nReSendIndex=2;this.nReSendTime=3000;this.fnPingSetTimeOut=null;this.fnPingCloseSetTimeOut=null;this.fnConnectSetTimeOut=null};b.prototype={fnSetWss:function(){var c=this;c.sCount=a.gGlobalJson.getState(c.bIsMobile?"mobile":"pc").websocket.count;var d={};if(c.sCount==="2"){d.wss1={readyState:0,connect:false,param:"public",events:["st","tk","tk_ALL","tk_MID","tr","ob"]};d.wss={readyState:0,connect:false,param:"event",events:["ac","ec"]}}else{d.wss={readyState:0,connect:false,param:"event",events:["st","tk","tk_ALL","tk_MID","tr","ob","ac","ec"]}}c.defaultOwss=gCloneObject(d)},fnConnect:function(){var i=this;try{var d=i.fnReadyState(null,"array");if(i.bIsSupport&&d.indexOf(false)>-1){if(!i.nWsIntervalMax[1]){return}i.nWsIntervalMax[1]--;var j="wss://";var h="";var m=i.fnHostName();var g=Object.keys(i.oWss);var c=g.length;var k=0;var l=fnWsEventKeys();for(k;k<c;k++){var f=i.fnWsEvents(l,i.oWss[g[k]].events,i.oWss[g[k]].param);if(f==="[]"){continue}if(!d[k]&&!i.oWss[g[k]].connect){if(i.oWss[g[k]].param==="event"){h=m}else{h=m.replace(":8443","")}i.fnNewWebSocket(g[k],j+g[k]+h+i.oWss[g[k]].param)}}}}catch(e){_console.log(e)}},fnHostName:function(){var d=getNavigator.real();var c=location.host;var e=".bithumb.com/";if(!d){if(c.indexOf("local")!==-1||c.indexOf("dev")!==-1){e="-dev.bithumb.com:8443/"}else{if(c.indexOf("qa")!==-1){e="-qa.bithumb.com/"}}}return e},fnWsParams:function(){var c=this;return"?retry="+(c.nWsIntervalMax[0]-c.nWsIntervalMax[1])+"&bg="+bIsBackgeound},fnNewWebSocket:function(f,c){var g=this;var e=g.oWss[f].param;var h=g.oWss[f].events;var d=g.oWss[f].errCntCount;g.oWss[f]=new WebSocket(c);g.oWss[f].errCntCount=d||0;g.oWss[f].events=h;g.oWss[f].name=f;g.oWss[f].param=e;g.oWss[f].fnCntSetTimeout=null;g.oWss[f].connect=true;g.oWss[f].onopen=function(){var i={};i[f]=true;setNetworkState(1,i);if(this.param==="public"){g.fnPublicSend(this);g.fnSetTimePing()}this.connect=false};g.oWss[f].onclose=function(){var i={};i[f]=false;setNetworkState(1,i);try{if(this.readyState===1){this.close()}}catch(j){_console.log("[ws err] onclose = ",j)}this.connect=false;if(this.param==="public"&&g.fnPingSetTimeOut){clearTimeout(g.fnPingSetTimeOut)}if(this.errCntCount>=g.nReConnectIndex){g.oWss[f].fnCntSetTimeout=setTimeout(function(){g.fnWsClose(this.name,true)},g.nReConnectTime)}else{g.fnWsClose(this.name,false)}};g.oWss[f].onerror=function(){var i={};i[f]=false;setNetworkState(1,i);try{g.oWss[f].errCntCount++;if(this.readyState===1){this.onclose()}}catch(j){_console.log("[ws err] onerror = ",j)}};g.oWss[f].onmessage=function(j){var i={};i[f]=false;setNetworkState(1,i);this.connect=false;g.fnWsMsg(j)}},fnReadyState:function(e,h){var g=this;var f=false;if(e){f=g.oWss[e].readyState===1}else{var i=Object.keys(g.oWss);var d=i.length;var c=0;var j=[];for(c;c<d;c++){j.push(g.oWss[i[c]].readyState===1)}if(h==="array"){return j}f=j.indexOf(true)!==-1}return f},fnWsSend:function(e){var g=this;try{if(e){var i=g.oWss[e];if(i.param==="event"){g.fnAjaxWsevent(i)}else{g.fnPublicSend(i)}}else{var h=Object.keys(g.oWss);var d=h.length;var c=0;for(c;c<d;c++){var i=g.oWss[h[c]];if(i.param==="event"){g.fnAjaxWsevent(i)}else{g.fnPublicSend(i)}}}}catch(f){_console.log(f)}},fnPublicSend:function(c){var d=this;var e=d.fnWsEvents(fnWsEventKeys(),c.events,c.param);if(e==="[]"||c.readyState!==1){return}c.send(JSON.stringify({type:"SUBSCRIBE",events:JSON.parse(e)}))},fnAjaxWsevent:function(c){var e=this;if(Number(c.readyState)!==1||gIsEmpty(c.sendContent)){return false}var f={wsId:c.sendContent,events:null};var g=fnWsEventKeys();f.events=e.fnWsEvents(g,c.events,c.param);if(c.msg===JSON.stringify(f)||f.events==="[]"){return false}c.msg=JSON.stringify(f);if(typeof c.errSendCount==="undefined"){c.errSendCount=0}if(c.fnSendTimeout){clearTimeout(c.fnSendTimeout)}var d=c.name;ajaxRequest({url:"/trade/wsevent"+e.fnWsParams(),data:f,type:"post",dataType:"json",message:false,success:function(h){return h.error==="0000"},error:function(){if(e.bIsMobile&&!IOS_CHECK){fnToast(AJAX_FAIL_MSG)}else{fnToast(AJAX_FAIL_MSG,"netErr")}c.errSendCount++;if(c.errSendCount>=e.nReSendIndex){e.oWss[d].close()}else{c.msg=null;c.fnSendTimeout=setTimeout(function(){e.fnAjaxWsevent(c)},e.nReSendTime)}return false}})},fnWsEvents:function(e,g,j){var d=[];var i=g;if(!Array.isArray(i)){var f=Object.keys(i);var k=f.length;var h=0;var c=[];for(h;h<k;h++){c.push(i[f[h]])}i=c}e.split("|").forEach(function(n){if(i.indexOf(n)===-1){return}var m;var l=LOGIN_CHECK==="Y";var p=[MARKET_TYPE,sCoinKey];if(MARKET_TYPE!=="C0100"){p=[[MARKET_TYPE,sCoinKey],["C0100",MARKET_TYPE]]}var o={COIN:sCoinKey,CURRENCY:MARKET_TYPE};switch(n){case"tk_MID":if(j.indexOf("public")!==-1){if(MARKET_TYPE==="C0100"){p.push("MID")}else{p=p.map(function(r){r.push("MID");return r})}m={type:"tk",filters:p}}else{o.TICKTIME="MID";m={name:"tk",filters:o}}break;case"tk":case"tk_ALL":var q=n==="tk_ALL";if(j.indexOf("public")!==-1){if(q){p=[sTickTime]}else{if(MARKET_TYPE==="C0100"){p.push(sTickTime)}else{p=p.map(function(r){r.push(sTickTime);return r})}}m={type:"tk",filters:p}}else{if(q){o={TICKTIME:sTickTime}}else{o.TICKTIME=sTickTime}m={name:"tk",filters:o}}break;case"tr":case"ob":case"st":if(j.indexOf("public")!==-1){m={type:n,filters:p}}else{m={name:n,filters:o}}break;case"ec":case"ac":if(l){m={name:n}}break}if(m){d.push(m)}});return JSON.stringify(d)},fnWsMsg:function(e){var d=this;var f=e.data;if(!gIsSet(f)){return}else{if(typeof f==="string"){try{f=JSON.parse(f)}catch(c){_console.log(c)}}}if(f.type==="control"&&f.subtype==="session_id"&&e.target.param==="event"){d.oWss[e.target.name].sendContent=f.content;if(!d.fnWsSend(e.target.name)){return}}if(f.status==="UP"){if(d.fnPingCloseSetTimeOut){clearTimeout(d.fnPingCloseSetTimeOut)}d.fnSetTimePing()}if(f.type!=="data"||!gIsSet(f.subtype)||!gIsSet(f.content)){return}if(typeof fnWsMsgView!=="undefined"){fnWsMsgView(f)}d.fnSetTimePing()},fnSetTimePing:function(){var c=this;if(c.fnPingSetTimeOut){clearTimeout(c.fnPingSetTimeOut)}c.fnPingSetTimeOut=setTimeout(function(){c.fnSendPing()},c.nPingTime)},fnSendPing:function(){var d=this;var f=Object.keys(d.oWss);var e=f.length;var c=0;for(c;c<e;c++){if(d.oWss[f[c]].param==="public"&&d.oWss[f[c]].readyState===1){d.oWss[f[c]].send("PING");if(d.fnPingCloseSetTimeOut){clearTimeout(d.fnPingCloseSetTimeOut)}d.fnPingCloseSetTimeOut=setTimeout(function(){if(d.oWss[f[c]]){d.oWss[f[c]].close()}},d.nPingCloseTime)}}},fnWsClose:function(c,e){var d=this;if(e){d.fnSetWss();d.fnWsReset(c)}if(typeof fnWsCloseView!=="undefined"){fnWsCloseView()}if(a.gGlobalJson.getState(d.bIsMobile?"mobile":"pc").websocket.member==="true"){if(d.fnConnectSetTimeOut){clearTimeout(d.fnConnectSetTimeOut)}d.fnConnectSetTimeOut=setTimeout(function(){d.fnConnect()},6000)}},fnWsReset:function(d){var f=this;if(d){if(f.oWss[d]&&f.oWss[d].readyState!==0){try{f.oWss[d].close()}catch(e){_console.log(e)}}else{if(f.oWss[d].fnCntSetTimeout){clearTimeout(f.oWss[d].fnCntSetTimeout)}}if(f.defaultOwss[d]){f.oWss[d]=f.defaultOwss[d]}else{delete f.oWss[d]}}else{var c;var h=Object.keys(f.oWss);var g=Object.keys(f.defaultOwss);for(c=0;c<h.length;c++){if(f.oWss[h[c]].readyState!==0){try{f.oWss[h[c]].close()}catch(e){_console.log(e)}}else{if(f.oWss[h[c]].fnCntSetTimeout){clearTimeout(f.oWss[h[c]].fnCntSetTimeout)}}if(!f.defaultOwss[h[c]]){delete f.oWss[h[c]]}}for(c=0;c<g.length;c++){if(f.oWss[g[c]]&&!gIsEmpty(f.oWss[g[c]].name)){f.oWss[g[c]].onclose()}f.oWss[g[c]]=f.defaultOwss[g[c]]}}},fnGetWs:function(){return this.oWss}};a.gWebSocket=new b()})(window);(function(a){var b=function(){this.bIsMobile=gMobileCheck();this.nOverlapTime=1000;this.bAjaxOverlap=false;this.fnSetTimeOverlap=null;this.prevParams=null;this.tickType=null;this.isMobile=gMobileCheck()};b.prototype={get:function(e,d,c){var f=this;if(f.bAjaxOverlap&&(f.prevParams&&f.equals(e,f.prevParams))){return}f.prevParams=e;f.tickType=(e.lists&&JSON.parse(e.lists)&&JSON.parse(e.lists).ticker.tickType)||null;f.bAjaxOverlap=true;if(f.fnSetTimeOverlap){clearTimeout(f.fnSetTimeOverlap)}f.fnSetTimeOverlap=setTimeout(function(){f.bAjaxOverlap=false;f.prevParams=undefined},f.nOverlapTime);f.ajaxGetTradeData(e,d,c)},equals:function(f,d){var c=this;for(var e in f){if(typeof d[e]=="undefined"){return false}if(typeof d[e]=="object"){if(!c.equals(d[e],f[e])){return false}}if(d[e]!==f[e]){return false}}for(var g in d){if(typeof f[e]=="undefined"){return false}if(typeof f[e]=="object"){if(!c.equals(f[e],d[e])){return false}}if(f[e]!==d[e]){return false}}return true},ajaxGetTradeData:function(e,d,c){var g=this;var h=gGlobalJson.getState(g.bIsMobile?"mobile":"pc").getTradeData.ajaxType;var f={url:HOST_DIV_WEB+"/trade-info/v1/getTradeData",data:gGetParamToString(e,"java")};if(h==="POST"){f={url:"/trade/getTradeData",data:e}}ajaxRequest({url:f.url,dataType:"json",type:h,data:f.data,async:d||false,message:false,beforeSend:function(){if(c&&c.beforeSend){c.beforeSend()}},success:function(l){var k=0;if(l.error!=="0000"){return}var m=Object.keys(l.data);var j=m.length;if(g.isMobile&&gIsEmpty(gCookie.get("is_pc_view12"))){gExtend(tradeData,l.data)}for(k;k<j;k++){var n=Object.keys(l.data[m[k]]);var o=n.length;var i=0;for(i;i<o;i++){switch(n[i]){case"ticker":if(g.tickType===null||g.tickType===sTickTime){realData[m[k]]=gExtend(realData[m[k]],l.data[m[k]][n[i]])}break;case"top5":if(oTop5){oTop5[m[k]]=l.data[m[k]][n[i]]}break}}}if(c&&c.success){c.success(l)}},complete:function(){if(c&&c.complete){c.complete()}}})}};a.gTradeData=new b()})(window);(function(b){var c=function(){var d=gGlobalJson.getState(gMobileCheck()?"mobile":"pc");this.nIntervalTimer=Number(d.orderbook.adjustInterval);this.nSetTime=Number(d.orderbook.pollingInterval);this.oMarketStat=["null",false];this.oGetherSumStat=["","",-1,{},document.getElementById("orderbookSize")?gNumeric(document.getElementById("orderbookSize").value):30];this.oOrderbook=null;this.oGetherbook={};this.oNewGetterBook={};this.bOrderbookDel=false;this.sCoinMarketKey="";this.nAjaxDataTime=0;this.elOrderBookIdx=null;this.fnOrderCall=null;this.bIsDataType=d.orderbook.useWebsocket==="true";this.nUnitIndex=0;this.arrUnitCount=[1,10,100,1000];this.fnSetTimeout=null;this.fnOrderbookInterval=null};c.prototype={init:function(){var d=this;if(gMobileCheck()&&gIsEmpty(gCookie.get("is_pc_view12"))){if(CUR_METHOD==="order"&&typeof orderBookView!=="undefined"){d.elOrderBookIdx=document.getElementsByClassName("market_stat_list")[0];d.fnOrderCall=function(f,g,e){orderBookView.fnMarketStatDataBinding(f,g,e)}}else{if(CUR_METHOD==="index"){d.elOrderBookIdx=[document.getElementById("contSellKrw"),document.getElementById("contBuyKrw")];d.fnOrderCall=fnMarketStatDataBinding}}}else{if(typeof orderBookView!=="undefined"){d.elOrderBookIdx=[document.getElementById("marketStatTableSell"),document.getElementById("marketStatTableBuying")];d.fnOrderCall=function(f,g,e){orderBookView.fnMarketStatDataBinding(f,g,e)}}}d.fnIntervalTypeChange()},fnIntervalTypeChange:function(){var d=this;d.reset(true);d.fnGetterReset();var e=gGlobalJson.getState(gMobileCheck()?"mobile":"pc");d.nIntervalTimer=Number(e.orderbook.adjustInterval);d.nSetTime=Number(e.orderbook.pollingInterval);d.bIsDataType=e.orderbook.useWebsocket==="true";if(d.fnOrderbookInterval){clearInterval(d.fnOrderbookInterval)}d.sCoinMarketKey="";if(d.bIsDataType){d.fnOrderbookInterval=setInterval(function(){d.sCoinMarketKey="";d.ajaxPost()},d.nIntervalTimer);d.ajaxPost()}else{d.ajaxGet()}},reset:function(e){var d=this;d.oMarketStat=["null",false];d.oOrderbook=null;d.nUnitIndex=0;d.viewReset();if(!e){d.ajax()}},viewReset:function(j){var g=this;var f;var e;var i;var d;var h=function(l){gEquals(l,{"data-p":"0","data-q":"0","class":l.getAttribute("class").split(" ")[0]},"attr");var n=l.getElementsByClassName("msl_plice")[0];var m=l.getElementsByClassName("msl_count")[0];var k=l.getElementsByClassName("msl_fluc")[0];gEquals(n,{"data-p":"0"},"attr");if(n.children.length>0&&!gHasClass(n.children[0],"opacity_3")){gText(n.children[0],"set","");gText(n.children[1],"set","")}else{gText(n,"set","")}gEquals(m,{"data-q":"0"},"attr");gText(m.getElementsByTagName("p")[0],"set","");gEquals(k,{"data-p":"0"},"attr");gText(k,"set","");m.getElementsByTagName("p")[0].removeAttribute("class");m.getElementsByTagName("span")[0].removeAttribute("style");gEquals(m.getElementsByTagName("span")[0],{"data-q":"0"},"attr")};if(!j){if(Object.prototype.toString.call(g.elOrderBookIdx)==="[object Array]"){i=g.elOrderBookIdx.length;for(f=0;f<i;f++){d=g.elOrderBookIdx[f].children.length;for(e=0;e<d;e++){h(g.elOrderBookIdx[f].children[e])}}}else{if(g.elOrderBookIdx){i=g.elOrderBookIdx.children.length;for(f=0;f<i;f++){h(g.elOrderBookIdx.children[f])}}}}else{h(j)}},ajax:function(){var d=this;if(d.bIsDataType){d.ajaxPost()}else{d.ajaxGet()}},ajaxGet:function(i,e){var h=this;var g=i||sCoinKey;var j=e||MARKET_TYPE;var f=g+"_"+j;if(h.sCoinMarketKey===f){return}var d=HOST_DIV_WEB+"/trade-info/v1/orderbook/"+gCoinType(g,true)+"_"+gCoinType(j,true)+"/"+h.arrUnitCount[h.nUnitIndex];h.sCoinMarketKey=f;ajaxRequest({url:d,dataType:"json",type:"get",message:false,success:function(k){if(k.data!==null){h.nAjaxDataTime=k.data.dtm;if(!h.bIsDataType){h.fnSetApiData(k.data)}}},complete:function(){if(!h.bIsDataType){clearTimeout(h.fnSetTimeout);h.fnSetTimeout=setTimeout(function(){h.sCoinMarketKey="";h.ajaxGet()},h.nSetTime)}}})},ajaxPost:function(h,d){var g=this;var f=h||sCoinKey;var i=d||MARKET_TYPE;var e=f+"_"+i;if(g.sCoinMarketKey===e){return}g.sCoinMarketKey=e;ajaxRequest({url:"/trade/orderbook",dataType:"json",type:"post",data:{coinType:f,crncCd:i,limit:30},success:function(j){if(j.data!==null){g.nAjaxDataTime=j.data.dtm;g.get(j.data)}}})},fnSetApiData:function(g){var e=this;var k=g.coinType||sCoinKey;var f=g.crncCd||MARKET_TYPE;if(k!==sCoinKey||f!==MARKET_TYPE){return}if(!e.oOrderbook){e.oOrderbook={}}if(!e.oOrderbook[k]){e.oOrderbook[k]={}}var h;var j=Object.keys(g);var d=0;var i=j.length;for(d;d<i;d++){h=j[d];if(h==="ask"||h==="bid"){if(!e.oOrderbook[k][h]){e.oOrderbook[k][h]=[]}e.fnUpdateOrderBook(g[h],h,false,k)}}e.oGetherbook=e.oOrderbook;if(e.fnOrderCall){e.fnOrderCall(e.oOrderbook,undefined,false)}},get:function(f){var i=this;var j;var k;var e=f.coinType||sCoinKey;var l=f.crncCd||MARKET_TYPE;var h=(Object.prototype.toString.call(f)==="[object Array]");if(!i.oOrderbook){if(h){return}if(f&&!f[e]){i.oOrderbook={};i.oOrderbook[e]=gCloneObject(f)}else{i.oOrderbook=gCloneObject(f)}i.fnGetterReset()}if(!i.oOrderbook[e]){i.oOrderbook=null;return}if(e!==sCoinKey||l!==MARKET_TYPE){return}if(h){f=f[0];k=f.length;for(j=0;j<k;j++){i.fnUpdateOrderBook(f[j],f[j].o,h)}}else{var g;var d=Object.keys(f);k=d.length;for(j=0;j<k;j++){g=d[j];if(g==="ask"||g==="bid"){i.fnUpdateOrderBook(f[g],g,h,e)}}}i.getDataChk(h)},getDataChk:function(e){var f=this;var d=f.oOrderbook[sCoinKey];if((d.ask.length>0&&d.bid.length>0)&&(gNumeric(d.ask[0].p)<=gNumeric(d.bid[0].p))){f.sCoinMarketKey="";f.ajax();return}f.fnGathering(e)},fnUpdateOrderBook:function(f,d,g,o){var j=this;var e=o||sCoinKey;var k=function(q){return q.sort(function(u,t){var r=u.p*1<t.p*1?-1:1;var s=u.p*1>t.p*1?-1:1;return d==="ask"?r:s})};if(g){var l=0;var m=false;var p=j.oOrderbook[e][d];var n=p.length;var i=gNumeric(f.p);var h=gNumeric(f.q);for(l;l<n;l++){if(gNumeric(p[l].p)===i){m=true;if(h===0){j.bOrderbookDel=true;p.splice(l,1)}else{p[l].q=gBCMath(h,0,4)}break}}if(!m&&h!==0){p.push(f);k(p)}j.oOrderbook[e][d]=p}else{j.oOrderbook[e][d]=f}},fnMarketStchg:function(f,d){var e=this;if(e.oMarketStat[0]===f&&e.oMarketStat[1]===d){return}e.viewReset();e.oMarketStat=[f,d];e.fnGetterReset();e.fnGathering()},fnGetterReset:function(){var d=this;d.oGetherbook={};d.oGetherbook[sCoinKey]={ask:[],bid:[]}},fnNewGetterReset:function(d){var e=this;if(d==="new"){e.oNewGetterBook={};e.oNewGetterBook[sCoinKey]={ask:[],bid:[]}}else{e.oGetherSumStat=["","",-1,{},e.oGetherSumStat[4]]}},fnGathering:function(l){var h=this;var f=h.oOrderbook[sCoinKey];var i;var g;var m;var e;var k;var d;var j=function(o,n){h.fnNewGetterReset();d=o.length;for(i=0;i<d;i++){h.fnGetSum(o[i].e||o[i],o[i].i||i);if(h.oGetherSumStat[2]<h.oGetherSumStat[4]){h.oNewGetterBook[sCoinKey][n][h.oGetherSumStat[2]]={p:h.oGetherSumStat[0],q:h.oGetherSumStat[1],sum:h.oGetherSumStat[3]}}}};h.fnNewGetterReset("new");e=Object.keys(f);k=e.length;for(g=0;g<k;g++){m=e[g];if(m==="ask"||m==="bid"){j(f[m],m)}}h.fnGatherChk(l)},fnGatherChk:function(d){var e=this;var f=e.bOrderbookDel?e.fnNewDataIndex(e.oGetherbook,e.oNewGetterBook):e.fnNewDataIndex(e.oNewGetterBook,e.oGetherbook);e.oGetherbook=e.oNewGetterBook;if(!e.elOrderBookIdx){return false}if(f.ask.length>0||f.bid.length>0){e.fnOrderCall((d&&!e.bOrderbookDel)?f:e.oGetherbook,e.oGetherbook,(d&&!e.bOrderbookDel));e.bOrderbookDel=false}},fnGetSum:function(g,h,l){var j=this;var i=Number(g.q);var k=j.oMarketStat[0].toString().split(".")[1];var e=k!==undefined?k.length:0;var f=j.oMarketStat[0]!=="null"?e:null;var d=Number(gBCMath(Number(g.p),0,f,"-",false));if(f===0){d=Number(d.roundTo(j.oMarketStat[0]))}if(MARKET_TYPE==="C0100"){d=gKRWMath(d,0,false,gfnUnitPrice(d,undefined,true),false,false)}else{d=gBCMath(d,0,MARKET_INFO[MARKET_TYPE].decimalPoint_view,"-")}d=Number(d)===0?"0":d;if(l){return{p:d,q:g.q,t:g.t}}if(String(j.oGetherSumStat[0])===String(d)){j.oGetherSumStat[1]=gBCMath(i,j.oGetherSumStat[1],4,"+");j.oGetherSumStat[3][h]={p:g.p,q:g.q,t:g.t||0}}else{j.oGetherSumStat[0]=String(d);j.oGetherSumStat[1]=gBCMath(i,0,4,"+");j.oGetherSumStat[2]++;j.oGetherSumStat[3]={};j.oGetherSumStat[3][h]={p:g.p,q:g.q,t:g.t||0}}},fnNewDataIndex:function(d,f){var e=function(g){return(d[sCoinKey][g]).map(function(h,i){return(JSON.stringify(h)!==JSON.stringify(f[sCoinKey][g][i]))?({i:i,e:h}):null}).filter(function(h){return h!==null})};return{ask:e("ask")||[],bid:e("bid")||[]}},getAsksLastPrice:function(j,g){var f=this;var h=j||sCoinKey;var e=g||MARKET_TYPE;var d=f.oOrderbook;if(Object.keys(d||{}).length>0){return(!d||d[h].ask.length===0)?"0":gIsSet(d[h].ask[0].p)?d[h].ask[0].p:"0"}else{var i=tradeData[e].orderbook;return(!i||!i[h]||i[h].asks.length===0)?"0":i[h].asks[i[h].asks.length-1].price}},getBidsFirstPrice:function(j,g){var f=this;var h=j||sCoinKey;var e=g||MARKET_TYPE;var d=f.oOrderbook;if(Object.keys(d||{}).length>0){return(!d||d[h].bid.length===0)?"0":gIsSet(d[h].bid[0].p)?d[h].bid[0].p:"0"}else{var i=tradeData[e].orderbook;return(!i||!i[h]||i[h].bids.length===0)?"0":i[h].bids[0].price}}};b.gOrderBook=new c();var a=function(){this.bAjaxOverlap=false;this.setTimeOverlap;this.nOverlapTime=1000;this.ajaxTime=60000;this.oAssetMy={data:{},assetList:{},totalAssetKrw:"0",totalAssetValue:"0",totalAssetRate:"0",totalTradePic:"0",totalTradePicBtc:"0",totalAssetAvgPic:"0",totalAssetBuyPic:"0",myAssetRate:{error:true,data:{}},btcContAmt:"0"};this.KeysAssetList=[];this.KeysData=[];this.isMobile=gMobileCheck();this.isAssetMy=CUR_METHOD==="asset_my";this.isAvailable=CUR_METHOD==="available";this.viewCoins=null;this.allowLeftInfoPath=["main","order","withdraw","notification_quote","question","notification_quote_history","out_order","status","move_asset","easy","partner_with_draw","my_page","chart","auto_trading"];this.wsKeys=[];this.getAssetCallback=null;this.assetParams={};this.sAssetCheckResponse=""};a.prototype={init:function(){var d=this;d.fnCoinDefault();if(LOGIN_CHECK!=="Y"||["more_index","more_service","more_customer_support","more_terms","more_transfer_payment","btc_open"].indexOf(CUR_METHOD)>-1){return false}if(d.isAssetMy||d.isAvailable){d.viewCoins=document.getElementsByName("viewCoins")[0].value.split(",");if(d.isAssetMy){d.fnInterVal(function(){d.getAjaxChangeAsset(function(){d.getAjaxAssetMy()})});d.getAjaxAssetMy()}}if(d.isMobile){if(["order","index","chart","market_price","info_coin"].indexOf(CUR_METHOD)>-1){d.assetParams={coinType:[MARKET_TYPE,sCoinKey]}}else{if(["main"].indexOf(CUR_METHOD)>-1){d.assetParams={coinType:[MARKET_TYPE]}}}if(!d.isAssetMy){d.fnInterVal(function(){d.getAjaxChangeAsset(function(){d.getAjaxAsset(d.assetParams)})});if(CUR_METHOD==="main"&&gCookie.get("myAssetsVisible")==="Y"){d.getAjaxAssetMy()}else{if(["main","more_index","more_service","more_customer_support","more_terms","more_transfer_payment"].indexOf(CUR_METHOD)===-1){d.getAjaxAsset(d.assetParams)}}}}else{if(d.isAvailable){d.fnInterVal(function(){d.getAjaxChangeAsset(function(){d.getAjaxAvailable()})});d.getAjaxAvailable()}else{if(["main","status","chart","order","profit_loss"].indexOf(CUR_METHOD)!==-1||d.allowLeftInfoPath.indexOf(CUR_METHOD)!==-1){d.fnInterVal(function(){d.getAjaxChangeAsset(function(){d.getAjaxAsset()})});d.getAjaxAsset()}}}},fnCoinDefault:function(){var j=this;var e=COIN.C0100;var m=Object.keys(e);var q=m.length;var d=function(r){return{AVAILABLE:"0",LIVE:r?r.live:"N",LOAN_QTY:"0",OUT_AMT:"-",OUT_AVAILABLE:"0",TRADE_WAIT:"0",USE_WAIT:"-",avgPic:"-",balance:0,buyPic:"-",coinName:r?r.name:"",price:0,rate:"-",sise:0,value:"-"}};var f=function(r){return{AVAILABLE:"0",AVAILABLE_CAL:"0",AVG_BUY_AMT:"-",IN_USE:"0",IN_USE_CAL:"0",LAST:r||"0",LIVE:"N",LOAN_QTY:"0",OUT_AMT:"0",OUT_AVAILABLE:"0",PROFIT_AMT:"0",PROFIT_RATE:"0",TOTAL:"0",TOTAL_CAL:"0",TOTAL_SUM:"0",TRADE_WAIT:"0",USE_WAIT:"0"}};var o=function(r){return{AVAILABLE:"0",AVAILABLE_CAL:"0",AVG_BUY_AMT:"0",IN_USE:"0",IN_USE_CAL:"0",LAST:r||0,LIVE:"N",OUT_AVAILABLE:"0",PROFIT_AMT:"0",PROFIT_RATE:0,TOTAL:"0",TOTAL_CAL:"0",TOTAL_SUM:"0",TRADE_WAIT:"0"}};if((!j.isMobile||Object.keys(realData).length===0)&&j.allowLeftInfoPath.indexOf(CUR_METHOD)!==-1){if(Object.keys(realData).length===0||Object.keys(realData.C0100).length<2){b.gTradeData.get({type:"custom",crncCd:["C0100"],coin:sCoinKey,lists:JSON.stringify({ticker:{coinType:"ALL",tickType:sTickTime}})},false)}}if(j.allowLeftInfoPath.indexOf(CUR_METHOD)!==-1){var h=Object.keys(COIN);var l=h.length;var k=0;for(k;k<l;k++){if(!j.oAssetMy.data[h[k]]){var n=COIN_DATA[h[k]].SISE_CRNC_CD;var g=n==="-"?"0":realData[n][h[k]].closePrice;j.oAssetMy.data[h[k]]=o(g)}e=COIN[h[k]];var p=Object.keys(e);var i=0;q=p.length;for(i;i<q;i++){if(!j.oAssetMy.data[p[i]]){j.oAssetMy.data[p[i]]=f(realData[h[k]][p[i]]?realData[h[k]][p[i]].closePrice:"0")}}}}getLeftInfoData=Object.assign(getLeftInfoData,j.oAssetMy.data);j.KeysAssetList=Object.keys(d());j.KeysData=Object.keys(f)},fnDataAssign:function(g,d,h){var j=gCloneObject(g);var i=Object.keys(d);var e=0;var f=i.length;for(e;e<f;e++){if(!g[i[e]]){j[i[e]]=d[i[e]]}else{j[i[e]]=Object.assign(j[i[e]],d[i[e]])}}return j},fnAssetFilter:function(e){var d=this;var f;if((gMobileCheck()&&CUR_METHOD==="main"&&e.data)||((d.isAssetMy||d.isAvailable)&&e.data)){f=gCloneObject(e);f.data=d.fnDataAssign(d.oAssetMy.data,f.data,d.KeysData);f.assetList=d.fnDataAssign(d.oAssetMy.assetList,f.assetList,d.KeysAssetList)}else{d.oAssetMy.data=d.fnDataAssign(d.oAssetMy.data,e,d.KeysData);f=d.oAssetMy}return f},fnAssetSum:function(m,e,r){var h=this;var j;var q=h.oAssetMy.assetList;var l=h.viewCoins;var p=function(s,C,x){if(!h.oAssetMy.assetList[s]){h.oAssetMy.assetList[s]={}}if(!COIN_DATA[s]){return}var y=COIN_DATA[s].SISE_CRNC_CD;var t=gExponential(gNumeric(q[s].balance));var w=gExponential(gNumeric(q[s].buyPic));var B=Object.keys(MARKET_INFO).indexOf(s)!==-1;var F=s==="C0100";var z;if(x){switch(x){case"tk":z=C;break;case"ac":t=C.b;z=(B&&F)?t:String(q[s].closePrice)||h.oAssetMy.assetList[s].sise||(realData[y][s]?realData[y][s].closePrice:0);h.oAssetMy.assetList[s].balance=t;h.oAssetMy.assetList[s].avgPic=C.a;h.oAssetMy.assetList[s].USE_WAIT=C.uw;h.oAssetMy.assetList[s].AVAILABLE=C.av;h.oAssetMy.assetList[s].OUT_AVAILABLE=C.oav;h.oAssetMy.assetList[s].OUT_AMT=C.oa;h.oAssetMy.assetList[s].TRADE_WAIT=C.tw;h.oAssetMy.assetList[s].LOAN_QTY=C.lq;h.oAssetMy.data[s].TOTAL=t;h.oAssetMy.data[s].AVG_BUY_AMT=C.a;h.oAssetMy.data[s].USE_WAIT=C.uw;h.oAssetMy.data[s].AVAILABLE=C.av;h.oAssetMy.data[s].OUT_AVAILABLE=C.oav;h.oAssetMy.data[s].OUT_AMT=C.oa;h.oAssetMy.data[s].TRADE_WAIT=C.tw;h.oAssetMy.data[s].LOAN_QTY=C.lq;break}}else{if(typeof C==="object"){var A=COIN.C0100[s]?COIN.C0100[s].name:s;var E=bcround(C.AVG_BUY_AMT,gfnUnitPrice(C.AVG_BUY_AMT,null,true));var v=C.AVG_BUY_AMT==="-"?C.AVG_BUY_AMT:E;var G=C.LIVE;t=gExponential(gNumeric(C.TOTAL));w=bcround(gBCMath(t,E,1,"*"),0);z=gExponential(gNumeric(C.CONT_PRICE||C.LAST));h.oAssetMy.assetList[s].coinName=F?lang["common.msg214"]:A;h.oAssetMy.assetList[s].balance=F?Math.floor(t):t;h.oAssetMy.assetList[s].avgPic=F?"-":v;h.oAssetMy.assetList[s].buyPic=F?"-":w;h.oAssetMy.assetList[s].USE_WAIT=C.USE_WAIT||"-";h.oAssetMy.assetList[s].AVAILABLE=C.AVAILABLE||"-";h.oAssetMy.assetList[s].OUT_AVAILABLE=C.OUT_AVAILABLE||"-";h.oAssetMy.assetList[s].OUT_AMT=C.OUT_AMT||"-";h.oAssetMy.assetList[s].TRADE_WAIT=C.TRADE_WAIT||"0";h.oAssetMy.assetList[s].LOAN_QTY=C.LOAN_QTY||"0";h.oAssetMy.assetList[s].LIVE=G}}if(s==="C0100"){h.oAssetMy.assetList[s].price=gExponential(gNumeric(h.oAssetMy.assetList[s].balance))}else{h.oAssetMy.assetList[s].closePrice=z;var D;if(y!=="-"&&y!=="C0100"&&x==="tk"){D=Math.floor(gBCMath(realData.C0100[y].closePrice,gBCMath(t,z,18,"*"),1,"*"))}else{D=Math.floor(gBCMath(t,z,1,"*"))}h.oAssetMy.assetList[s].price=D;var u=Math.floor(gBCMath(D,w,1));h.oAssetMy.assetList[s].value=u;h.oAssetMy.data[s].PROFIT_AMT=u;if(s==="C0101"){h.oAssetMy.btcContAmt=z}h.oAssetMy.assetList[s].rate=gBCMath(Number(gBCMath(u,w,8,"/")),100,4,"*");h.oAssetMy.data[s].PROFIT_RATE=Number(h.oAssetMy.assetList[s].rate).toFixed(2)}};if(m&&e){p(m,e,r)}else{q=h.oAssetMy.data;l=Object.keys(q);var n=l.length;for(j=0;j<n;j++){p(l[j],q[l[j]])}}var d=0;var o=0;var g=0;var f=h.oAssetMy.assetList;var k=Object.keys(f);var i=k.length;for(j=0;j<i;j++){if(gGetIsMarketCoin(k[j]).length>0||k[j]==="C0100"){if(k[j]!=="C0100"&&f[k[j]].closePrice>0){d=gBCMath(d,gNumeric(f[k[j]].value),null,"+");g=gBCMath(g,gNumeric(f[k[j]].buyPic),null,"+")}o=gBCMath(o,gNumeric(f[k[j]].price),null,"+")}}h.oAssetMy.totalAssetValue=d;h.oAssetMy.totalAssetKrw=o;h.oAssetMy.totalAssetRate=gBCMath(gBCMath(Number(d),gNumeric(g),8,"/"),100,4,"*")},fnInterVal:function(e){var d=this;gSetInterval.init(function(){var f=d.wsKeys.length===0;if(gWebSocket.bIsSupport&&gWebSocket.fnReadyState()&&f){return}if(typeof e==="function"){if(!f){d.getAjaxWsChangeList()}e()}},[gMobileCheck()?"mobile":"pc","getAsset","pollingInterval"]);setInterval(function(){if(typeof e==="function"&&gWebSocket.bIsSupport&&!gWebSocket.fnReadyState()){e()}},d.ajaxTime)},setWsCoins:function(d){var e=this;if(!d){return false}var g=d.coinType;var f=d.crncCd;if(e.wsKeys.indexOf(g)===-1){e.wsKeys.push(g)}if(!gIsEmpty(f)&&e.wsKeys.indexOf(f)===-1){e.wsKeys.push(f)}},setAssetData:function(e,h){var f=this;if(e==="ajax"){f.oAssetMy=f.fnAssetFilter(h);f.fnAssetSum();getLeftInfoData=f.oAssetMy.data;if(f.isAssetMy||CUR_METHOD==="profit_loss"){if(f.isMobile){if(typeof viewAssetMyM==="function"){viewAssetMyM(e)}}else{if(typeof viewAssetMyP==="function"){viewAssetMyP(e)}}}else{if(f.isAvailable){if(typeof viewAvailable==="function"){viewAvailable(e)}}else{if(CUR_METHOD==="main"){if(typeof viewMainP==="function"){viewMainP(e)}}}}}else{var d=h.content;var j;var i;var g;switch(h.subtype){case"tk":j=d.coinType;g=d.crncCd;i=f.oAssetMy.assetList[j];if(typeof i==="undefined"||i.closePrice===d.closePrice||COIN_DATA[j].SISE_CRNC_CD!==g){return}f.fnAssetSum(j,d.closePrice,h.subtype);break;case"ac":j=d.c;i=f.oAssetMy.assetList[j];if(typeof i==="undefined"){return}f.fnAssetSum(j,d,h.subtype);break}getLeftInfoData=f.oAssetMy.data;if(f.isAssetMy){if(f.isMobile){if(typeof viewAssetMyM==="function"){viewAssetMyM(e,[j])}}else{if(typeof viewAssetMyP==="function"){viewAssetMyP(e,[j])}}}else{if(f.isAvailable){if(typeof viewAvailable==="function"){viewAvailable(e,j)}}else{if(CUR_METHOD==="main"&&!f.isMobile){if(typeof viewMainP==="function"){viewMainP(e,[j])}}else{if(CUR_METHOD==="order"&&f.isMobile&&gIsEmpty(gCookie.get("is_pc_view12"))&&typeof order!=="undefined"&&order.fnGetMemAccount){order.fnGetMemAccount()}}}}}if(CUR_METHOD==="order"&&!f.isMobile){if(typeof order!=="undefined"&&typeof btcUi!=="undefined"){order.fnGetMyWallet()}}if(f.isMobile&&typeof fnViewTotalAsset==="function"){fnViewTotalAsset()}if(typeof btcUi!=="undefined"&&gIsSet(btcUi.myAssetTab)&&gVisible(btcUi.myAssetTab)&&btcUi.fnMyAssetUpdate){btcUi.fnMyAssetUpdate()}if(CUR_METHOD==="auto_trading"&&typeof autoTradingQuote!=="undefined"){autoTradingQuote.fnMyAssetUpdate()}},getAjaxAssetMy:function(d){var e=this;ajaxRequest({url:"/asset_status/asset_my_json",dataType:"json",type:"post",async:false,success:function(f){if(f.error!=="0000"){return}e.setAssetData("ajax",f.data);d&&d()}})},getAjaxAvailable:function(){var d=this;ajaxRequest({url:"/asset_status/available_json",dataType:"json",type:"post",async:false,success:function(e){if(e.error!=="0000"){return}d.setAssetData("ajax",e.data)}})},getAjaxAsset:function(d){var e=this;if(LOGIN_CHECK!=="Y"){return false}ajaxRequest({url:"/asset_status/getAsset",dataType:"json",type:"post",async:false,data:d,success:function(f){if(f.error==="0000"){e.setAssetData("ajax",f.data);if((!e.isMobile||e.isMobile&&CUR_METHOD==="chart")&&typeof oAvgPositionLine!=="undefined"&&gIsSet(oWidget)&&MARKET_TYPE==="C0100"){fnSetAvgPrice(e.oAssetMy.assetList[sCoinKey].avgPic||0)}}if(e.getAssetCallback){e.getAssetCallback(f)}if(CUR_METHOD==="order"&&gMobileCheck()&&gIsEmpty(gCookie.get("is_pc_view12"))&&typeof order!=="undefined"&&order.fnGetMemAccount){order.fnGetMemAccount()}}})},getAjaxWsChangeList:function(){var d=this;var e=d.wsKeys;d.wsKeys=[];ajaxRequest({url:"/asset_status/get_asset_change_list",dataType:"json",data:{coinKeys:e},type:"post",async:false,success:function(g){if(g.error!=="0000"){return}var h=g.data.length;var f=0;for(f;f<h;f++){d.setAssetData("ws",{subtype:"ac",content:g.data[f]})}}})},getAjaxChangeAsset:function(d){var e=this;ajaxRequest({url:"/asset_status/asset_check",dataType:"json",type:"post",success:function(f){if(!gIsEmpty(f.data)&&e.sAssetCheckResponse!==f.data){e.sAssetCheckResponse=f.data;if(d){d.call()}}}})}};b.assetMy=new a()})(window);function gKRWToCurrency(a,c){if(!gIsSet(a)||a===undefined){return"0"}var b=a;if(typeof b==="string"||isNaN(b)){b=Number(b.replace(/[^0-9.]/g,""))}if(b!==0){b=b/gRate}if(CUR_LANG!=="korean"){b=b.toFixed(2);b=gCurrency(b);if(c){b=gSign+b}}else{b=gCurrency(b)}return b}function gGetAssetLimit(){ajaxRequest({url:"/asset_status/getassetLimit",type:"post",dataType:"json",async:false,success:function(a){if(a.error==="0000"){getLeftInfoDataLimit=a.data}}})}gDomReady(function(){assetMy.init();var a=document.getElementsByName("user_platform");Array.prototype.forEach.call(a,function(b){b.value=navigator.platform});window.setTimeout(function(){ajaxRequest({url:"/trade/exchange_rate_info",dataType:"json",async:false,success:function(b){currencyRates=b.data;gCurrencyRateInit()}})},1000*60*30);if(!arrNetworkState[2]){arrNetworkState[2]=fnNetworkCallback}gRenewAppToken();document.addEventListener("visibilitychange",function(){if(!document.hidden){bIsBackgeound=false}else{bIsBackgeound=true}},false)});var gLending={maxLendingPrice:0,availableLndgReqAmt:0,sLendingQty:0,sMaxQty:0,sMinQty:0,sDepositToMaxQty:0,nFixedSise:0,nDepositValue:0,nDepositDefault:0,minLendingDeposit:0,maxLendingDeposit:0,nRate:"0.8",sCheckedCoin:"",lndgBseFeeRate:"0.01",lndgBasicFee:"1",lndgCertToken:"",fnSetLendingQty:function(a){this.nDepositValue=this.nDepositDefault;if(a&&Number(a)<this.nDepositValue){this.nDepositValue=a}this.sLendingQty=gBCMath(gBCMath(this.nDepositValue,this.nRate,4,"*"),this.nFixedSise,4,"/");this.lendingQty.setAttribute("placeholder",this.sLendingQty);this.lendingQty.value=gMobileCheck()?this.sLendingQty:gCurrency(this.sLendingQty);this.sDepositToMaxQty=this.sLendingQty;if(Number(this.sDepositToMaxQty)<Number(this.sMinQty)){this.sDepositToMaxQty=gBCMath(this.sMinQty,0,4)}if(Number(this.minLendingDeposit)>Number(gBCMath(this.availableLndgReqAmt,this.nRate,0,"/"))){gClassAll(document.getElementsByClassName("minMaxQtyArea"),"add","noQty")}else{gClassAll(document.getElementsByClassName("minMaxQtyArea"),"remove","noQty")}gText(document.getElementById("maxLendingQty"),"set",gCurrency(this.sDepositToMaxQty));this.fnSetLendingRate()},fnSetMaxQty:function(){this.sMaxQty=gBCMath(gBCMath(this.nDepositDefault,this.nRate,4,"*"),this.nFixedSise,4,"/");gText(document.getElementById("sMaxQty"),"set",this.sMaxQty);gText(document.getElementById("toKrw"),"set",gCurrency(gBCMath(this.sMaxQty,this.nFixedSise,0,"*")));gText(document.getElementById("minLendingQty"),"set",this.sMinQty)},fnSetDeposit:function(){var b=lang[gMobileCheck()||CUR_METHOD==="order"?"lndg.trade.msg40":"lndg.trade.msg39"];this.minLendingDeposit=Math.ceil(gBCMath(gBCMath(this.sMinQty,this.nFixedSise,4,"*"),this.nRate,1,"/"));this.maxLendingDeposit=getLeftInfoDataLimit.C0100.OUT_AVAILABLE;if(Number(this.maxLendingDeposit)<=Number(this.minLendingDeposit)){this.maxLendingDeposit=this.minLendingDeposit;b=lang[gMobileCheck()||CUR_METHOD==="order"?"lndg.trade.msg42":"lndg.trade.msg41"]}var a=gBCMath(this.maxLendingDeposit,this.nRate,18,"*");if(Number(this.availableLndgReqAmt)>Number(a)){this.nDepositDefault=this.maxLendingDeposit}else{this.nDepositDefault=gBCMath(this.availableLndgReqAmt,this.nRate,0,"/")}this.lendingDeposit.value=gCurrency(this.maxLendingDeposit);this.lendingDeposit.setAttribute("placeholder",gCurrency(this.minLendingDeposit));gText(document.getElementById("minMaxDepositTxt"),"set",b.replace("{{num1}}",gCurrency(this.minLendingDeposit)).replace("{{num2}}",gCurrency(this.maxLendingDeposit)));if(CUR_METHOD==="lending_application"){gText(document.getElementById("lendingAmount"),"set",gBCMath(this.availableLndgReqAmt,this.nFixedSise,4,"/"))}},fnRateToQty:function(b){var a=gBCMath(b,"100",2,"/");this.lendingQty.value=gBCMath(gBCMath(this.lendingDeposit.value.replace(/,/g,""),a,16,"*"),this.nFixedSise,4,"/")},fnSetDragBar:function(b){var a=document.getElementById("rateBox");var d=b;if(!gMobileCheck()){if(Number(d)>=80){d=80}var c=(a.offsetWidth||a.getAttribute("data-width"))-16;a.querySelector(".rateDrag").style.width=gBCMath(c,gBCMath(d,"80",16,"/"),2,"*")+"px"}else{if(Number(d)<5||Number(d)>80||gBCMath(d,"5",null,"%")>0){d=""}a.value=d;M.FormSelect.init(a)}},fnDragBarEvent:function(){var f=this;var b;var g=document.getElementById("rateBox");var i=g.getElementsByClassName("rateDrag")[0];var e=g.getElementsByClassName("ratePoint")[0];var c=(g.offsetWidth||g.getAttribute("data-width"))-16;var d=null;var a;var h;a=function(j){b=true;j.preventDefault();if(d===null){d={mousemove:function(k){if(b){h(k)}},mouseup:function(){if(b){b=false;gTrigger(f.lendingQty,"blur")}}}}gEventListener(document,"all",d)};h=function(l){var j=(l.pageX||0)-Math.floor(gOffset(g).left);var k=Math.floor(j/c*80);if(l.target.tagName==="LI"&&l.type==="click"){k=l.target.getAttribute("data-per");f.fnSetDragBar(l.target.getAttribute("data-per"))}else{if(j>c||j<=0){return}i.style.width=j+"px"}f.fnRateToQty(Math.round(k));f.fnSetLendingRate();gTrigger(f.lendingQty,"blur")};gEventListener(i.querySelector("span"),"add","mousedown",a);gEventListener(i,"add","click",h);gEventListener(e,"add","click",h)},fnSetLendingRate:function(){var b="0";var a=this.lendingDeposit.value.replace(/,/g,"");if(this.lendingQty.value!==undefined&&this.lendingQty.value!==0&&a!==undefined&&a!==0){b=gBCMath(gBCMath(gBCMath(this.lendingQty.value,this.nFixedSise,null,"*"),a,4,"/"),"100",1,"*")}if(gNumeric(this.lendingQty.value)>gNumeric(this.sMaxQty)){b="0";this.lendingQty.value=""}gText(this.lendingRate,"set",bcround(b,0));this.fnSetDragBar(bcround(b,0))},fnValidation:function(a){if(CUR_METHOD==="lending_application"&&gIsEmpty(this.sCheckedCoin)){return _alert(lang["lndg.trade.msg02"])}if(gIsEmpty(this.lendingDeposit.value)){return _alert(lang["lndg.trade.msg09"])}if(gIsEmpty(this.lendingQty.value)){return _alert(lang["lndg.trade.msg08"])}if(!this.agrChkYn.checked){return _alert(lang["lndg.trade.msg11"])}if(!this.customerChkYn.checked){return _alert(lang["lndg.trade.msg12"])}if(!this.policyChkYn.checked){return _alert(lang["lndg.trade.msg35"])}if(typeof a!=="undefined"){a()}},fnEvent:function(){var b=this;gEventListener(b.lendingQty,"add",{focus:function(){if(Number(b.minLendingDeposit)>Number(gBCMath(b.availableLndgReqAmt,b.nRate,0,"/"))){this.value="";b.lendingQty.value="";this.blur();return _alert(lang["lndg.trade.msg43"])}},keyup:function(){if(CUR_METHOD==="lending_application"&&gIsEmpty(b.sCheckedCoin)){if(gMobileCheck()){this.value="";this.blur();return _alert(lang["lndg.trade.msg02"])}else{return _alert(lang["lndg.trade.msg02"],this)}}b.fnSetLendingRate()},blur:function(){if(gIsEmpty(this.value)){return}if(gNumeric(this.value)<Number(b.sMinQty)||gNumeric(this.value)>Number(b.sDepositToMaxQty)){var e=lang["lndg.trade.msg03"].replace("{{num1}}",b.sMinQty).replace("{{num2}}",b.sDepositToMaxQty).replace(/{{coin_name}}/g,gCoinType(b.sCheckedCoin,true));if(gNumeric(this.value)>Number(b.sDepositToMaxQty)&&gNumeric(this.value)<Number(b.sMaxQty)){e+="<br>"+lang["lndg.trade.msg38"]}this.value="";if(gMobileCheck()){gClassAll(document.getElementsByTagName("body")[0],"add","ios_focus");_alert(e,3000)}else{_alert(e,this)}}b.fnSetLendingRate()}});gEventListener(b.lendingDeposit,"add",{focus:function(){if(gNumeric(b.minLendingDeposit)>Number(getLeftInfoDataLimit.C0100.OUT_AVAILABLE)){this.value="";b.lendingQty.value="";b.fnSetLendingQty();return _alert(lang["lndg.trade.msg04"])}},keyup:function(){if(gNumeric(this.value)>Number(getLeftInfoDataLimit.C0100.OUT_AVAILABLE)){this.value="";b.fnSetLendingQty();b.lendingQty.value="";if(gMobileCheck()){return _alert(lang["lndg.trade.msg04"])}else{return _alert(lang["lndg.trade.msg04"],this)}}b.fnSetLendingQty(gNumeric(this.value))},blur:function(){if(gIsEmpty(this.value)){return}if(gNumeric(this.value)<gNumeric(b.minLendingDeposit)||gNumeric(this.value)>b.maxLendingDeposit){var e=lang["lndg.trade.msg05"].replace("{{num}}",gCurrency(b.minLendingDeposit)).replace("{{num2}}",gCurrency(b.maxLendingDeposit));this.value="";b.fnSetLendingQty();b.lendingQty.value="";if(gMobileCheck()){gClassAll(document.getElementsByTagName("body")[0],"add","ios_focus");return _alert(e)}else{return _alert(e,this)}}if(gNumeric(this.value)>Number(getLeftInfoDataLimit.C0100.OUT_AVAILABLE)){this.value="";b.fnSetLendingQty();b.lendingQty.value="";if(gMobileCheck()){gClassAll(document.getElementsByTagName("body")[0],"add","ios_focus");return _alert(lang["lndg.trade.msg04"])}else{return _alert(lang["lndg.trade.msg04"],this)}}b.fnSetLendingQty(gNumeric(this.value))}});if(!gMobileCheck()){gEventListener(document.getElementById("viewTerms"),"add","click",function(e){e.preventDefault();gOpenPopup("/additional_service/info_lending_terms",null,"900","500","scrollbars=yes")});gEventListener(document.getElementById("viewCustomer"),"add","click",function(e){e.preventDefault();gOpenPopup("/additional_service/info_lending_customer",null,"900","500","scrollbars=yes")});gEventListener(document.getElementById("viewPolicy"),"add","click",function(e){e.preventDefault();gOpenPopup("/additional_service/info_lending_privacy_policy",null,"900","500","scrollbars=yes")});if(gIsSet(b.depositHelp)){fnPowerTip(b.depositHelp)}if(gIsSet(b.depositRateHelp)){fnPowerTip(b.depositRateHelp)}this.fnDragBarEvent()}else{gEventListener(b.depositHelp,"add","click",function(){M.Modal.getInstance(b.depositInfo).open()});gEventListener(b.depositRateHelp,"add","click",function(){M.Modal.getInstance(b.depositRateInfo).open()});gEventListener(document.getElementById("rateBox"),"add","change",function(){if(this.value===""){return}b.fnRateToQty(this.value);b.fnSetLendingRate();gTrigger(b.lendingQty,"blur")});if(gCheckApp()){var c=document.getElementsByClassName("out_link");var a=0;var d=c.length;for(a;a<d;a++){(function(f){var e=window.location.protocol+"//"+window.location.hostname+c[f].getAttribute("href");c[f].addEventListener("click",function(){if(IOS_CHECK){location.href="onbithumb://onExternalBrowser?url="+e}else{Bithumb.onExternalBrowser(e)}})})(a)}}}},init:function(){this.lendingQty=document.getElementById("lendingQty");this.lendingDeposit=document.getElementById("lendingDeposit");this.agrChkYn=document.getElementById("agrChkYn");this.customerChkYn=document.getElementById("customerChkYn");this.policyChkYn=document.getElementById("policyChkYn");this.lendingRate=document.getElementById("lendingRate");this.depositHelp=document.getElementById("deposit_help");this.depositRateHelp=document.getElementById("deposit_rate_help");this.depositInfo=document.getElementById("depositInfo");this.depositRateInfo=document.getElementById("depositRateInfo");this.lendingPeriod=document.getElementById("lendingPeriod");if(gMobileCheck()){gProtect.numberFloat(this.lendingQty,4);gProtect.price(this.lendingDeposit)}else{gProtect.priceFloat(this.lendingQty,4,null,true);gProtect.price(this.lendingDeposit,true)}if(CUR_METHOD!=="order"){this.lndgBasicFee=document.getElementById("lndgBasicFee").value;this.lndgBseFeeRate=document.getElementById("lndgBseFeeRate").value}this.fnEvent()}};function gGetDisclosure(b){var d=document.getElementsByClassName("disclosure_area")[0];var a=document.getElementById("disclosureList");var c=document.getElementsByClassName("disclosure")[0];gClassAll(a,"remove","on");gClassAll(c,"remove","notAni");ajaxRequest({url:"/trade/xangle_info",data:{coinType:b?b:"ALL"},type:"post",dataType:"json",message:false,success:function(m){if(m.error==="0000"){var j=m.data.length;if(j>0){var h=[];var q=1;var o=0;var r=false;var l=gMobileCheck()&&gIsEmpty(gGetCookie("is_pc_view12"));for(o;o<j;o++){var g=m.data[o];var f=g.cobak_url;var k=CUR_LANG==="korean"?g.title.ko:g.title.en;k=k.replace(/>/g,"&gt;").replace(/</g,"&lt;");if(COIN[gGetMarketType(g.coin_type)][g.coin_type]===undefined){continue}if(q%3===1&&!l){h.push('<ul class="swiper-slide">');r=false}if(f==="none"||f===""){f=g.xangle_url}h.push("<li>",'<a href="',f,'" target="_blank" rel="noopener noreferrer" class="GA_PUBLIC_DISCLOSURE_LIST">');if(!l){h.push('<img src="',(R_SERVER4+"/resources/img/coin/coin-"+md5(g.coin_symbol)+".png"),'" alt="',g.coin_symbol,'" width="16" height="16">',"<strong>",COIN[gGetMarketType(g.coin_type)][g.coin_type].name,"</strong>")}h.push("<span",(g.new_icon==="Y"?' class="isNew"':""),">",k,"</span>",(g.new_icon==="Y"?'<i class="icoDisclosureNew">NEW</i>':""),"</a>","</li>");if(q%3===0&&!l){h.push("</ul>");r=true}q++}if(!r&&!l){h.push("</ul>")}gClassAll(d,"remove","g_hidden");if(l){gEquals(a,h.join(""),"html");gClassAll(a,"add","disclosure-ani"+j)}else{gEquals(a,'<div class="swiper-wrapper" />',"html");gEquals(a.children[0],h.join(""),"html");var e=a.getElementsByTagName("li");var i=e.length;var s;var p;var n=0;for(n;n<i;n++){s=e[n].getBoundingClientRect();p=e[n].getElementsByTagName("span")[0].getBoundingClientRect();e[n].getElementsByTagName("span")[0].style.maxWidth=s.x+s.width-p.x-50+"px"}gClassAll(a,"add","on");if(m.data.length>3){new Swiper("#disclosureList",{direction:"vertical",slidesPerView:1,speed:600,mousewheel:true,loop:true,disableOnInteraction:true,autoplay:{delay:3000}});gEventListener(a,"add",{mouseenter:function(){a.swiper.autoplay.stop()},mouseleave:function(){a.swiper.autoplay.start()}})}else{gClassAll(c,"add","notAni")}gGAEventSet("GA_PUBLIC_DISCLOSURE_LIST",true)}}else{gClassAll(d,"add","g_hidden")}}else{gClassAll(d,"add","g_hidden")}},error:function(){if(gMobileCheck()){fnToast(AJAX_FAIL_MSG)}else{fnToast(AJAX_FAIL_MSG,"netErr")}gClassAll(d,"add","g_hidden")}})}function gImageFileCheck(a){var b="jpg, png, gif, jpeg";var c=a.split(".");if(c.length<2){return false}return b.indexOf(c.slice(-1).toString().toLowerCase())!==-1}function gUploadFileSizeCheck(e,d,c){var b=1024;var f=d;var a=c;if(e.size===null||e.size===undefined){return false}if(a!==undefined){a=c.toLowerCase()}if(f===undefined){f=5}switch(a){case"kb":b*=f;break;case"gb":b*=1024*1024*f;break;default:b*=1024*f}return e.size<b}var gWsContentKeys={tk:{m:"crncCd",c:"coinType",k:"tickType",o:"openPrice",e:"closePrice",l:"lowPrice",h:"highPrice",u:"value",v:"volume",r:"chgRate",a:"chgAmt",w:"volumePower",f:"prevClosePrice",u24:"value24H",v24:"volume24H"},tr:{o:"buySellGb",p:"contPrice",n:"contAmt",q:"contQty",t:"contDtm"},ec:{g:"msgType",o:"buySellTypeCd",c:"coinType",m:"crncCd",p:"contUprc",q:"contQty",l:"msgCode"},st:{m:"crncCd",c:"coinType",k:"tickType",t:["date","time"],o:"openPrice",e:"closePrice",l:"lowPrice",h:"highPrice",v:"volume",r:"chgRate"},ac:{c:"coinType",m:"crncCd"}};function gWsKeyChange(g,b){var d={};var f;var e;var a;var c;switch(g){case"tk":case"ac":case"ec":f=gWsContentKeys[g];for(e in b){d[f[e]]=b[e]}break;case"tr":f=gWsContentKeys[g];c=b.l.length;a=0;d.list=[];for(a;a<c;a++){d.list[a]={crncCd:b.m,coinType:b.c};for(e in b.l[a]){if(b.l[a].hasOwnProperty(e)){d.list[a][f[e]]=b.l[a][e]}}}break;case"ob":a=0;c=b.l.length;d.dtm=b.d;d.list=[];for(a;a<c;a++){d.list[a]=b.l[a];d.list[a].o=b.l[a].o==="1"?"ask":"bid"}break;case"st":f=gWsContentKeys[g];for(e in b){if(e==="t"){d[f[e][0]]=b[e].slice(0,8);d[f[e][1]]=b[e].slice(8,14)}else{d[f[e]]=b[e]}}break;default:d=b}return d}function gGetMarketType(d){var a=d||sCoinKey;var c=MARKET_TYPE;if(a&&a!==""){var b=gGetIsMarketCoin(a);if(b.length>0){c=b[0]}}return c}function fnCheckMouseRight(a){var b=false;if("which" in a){b=a.which===3}else{if("button" in a){b=a.button===2}}return b}function gGAVirtualTracker(d,b,c,g,e){var a={event:"ga_virtual",virtuallocation:b,virtualtitle:d,virtualparam:c};g?a.nonInteraction=true:a;if(e&&Object.keys(e).length>0){var f="";for(f in e){a[f]=e[f]}}if(window.dataLayergtm){h()}else{setTimeout(function(){h()},1500)}function h(){try{dataLayergtm.push(a);var j={ecommerce:undefined,nonInteraction:false};dataLayergtm.push(j)}catch(i){console.log(i)}}}function gGAEventSet(c,b){var d="";var a="";var e="";if(c){if((!b&&(!oGAPageData.hasOwnProperty(CUR_METHOD)||!oGAPageData[CUR_METHOD].hasOwnProperty(c)))||(b&&!oGAPublicData.hasOwnProperty(c))){return}gEventListener(document.getElementsByClassName(c),"all","mousedown",function(f){if(fnCheckMouseRight(f)){return}var g=b?oGAPublicData[c]:oGAPageData[CUR_METHOD][c];if(g.length<3){return}d=typeof g[0]==="function"?g[0]():g[0];a=typeof g[1]==="function"?g[1]():g[1];e=typeof g[2]==="function"?g[2](this,f.target,c):g[2];if(!d||!a||!e){return}gGAEventTracker(d,a,e)})}else{gEventListener(document.getElementsByClassName("GA_EVENT_SET"),"all","mousedown",function(f){if(fnCheckMouseRight(f)){return}d=this.getAttribute("data-ga-event1")?this.getAttribute("data-ga-event1"):gGAGetCategory();a=this.getAttribute("data-ga-event2");e=this.getAttribute("data-ga-event3");if(!d||!a||!e){return}gGAEventTracker(d,a,e)})}}function gGAGetCategory(){var a={main:"빗썸_메인",order:"빗썸_거래",index:"빗썸_거래",info_coin:"빗썸_거래",deposit:"빗썸_입출금",lending_kind:"빗썸_렌딩",remittance_wallet:"빗썸_빗썸캐시송금",remittance_sms:"빗썸_빗썸캐시송금",info:"빗썸_이용안내",info_guide:"빗썸_이용안내",upturn_lending_intro:"빗썸_상승장렌딩",status:"빗썸_주문현황",login:"빗썸_로그인",more_index:"빗썸_더보기",more_service:"빗썸_상품/서비스",asset_my:"빗썸_자산현황",history:"빗썸_거래내역",my_page:"빗썸_일반회원전환",trans_email_change:"빗썸_일반회원전환",auto_trading:"빗썸_오토트레이딩",join:"빗썸_회원가입",trans_email:"빗썸_회원정보관리"}[CUR_METHOD];return a?a:"빗썸_공통"}function gGAEventTracker(c,a,d){var b={event:"ga_event",category:c,action:a,label:d};if(window.dataLayergtm){e()}else{setTimeout(function(){e()},1500)}function e(){try{dataLayergtm.push(b);dataLayergtm.push({label:undefined})}catch(f){console.log(f)}}}function gGetQueryParams(h){var e=h||location.search;if(gIsEmpty(e)){return{}}else{if(e.substr(0,1)==="?"){e=e.substr(1)}var d=e.split("&");var f=d.length;var c={};var a;for(a=0;a<f;a++){var b=d[a].split("=");var i=decodeURIComponent(b[0]);var g=gIsEmpty(b[1])?null:decodeURIComponent(b[1]);if(typeof c[i]==="undefined"){c[i]=g}else{if(typeof c[i]==="string"){c[i]=[c[i],g]}else{c[i].push(g)}}}return c}}function gRenewAppToken(){if(gCheckApp()){if(gCookie.get("is_scng")==="true"){gCookie.add("is_scng","false");try{if(IOS_CHECK){webkit.messageHandlers.Bithumb.postMessage("onbithumb://onRequestNewWebToken")}else{Bithumb.onRequestNewWebToken()}}catch(a){console.log(a)}}}}function gGetParamToString(e,c){var h=0;var d=Object.keys(e);var i=d.length;var a=[];var b=c==="php";for(h;h<i;h++){var j=d[h];if(typeof e[j]==="object"){var f=0;var g=e[j].length;for(f;f<g;f++){if(b){a.push(j,"[",f,"]=",e[j][f])}else{a.push(j,"=",encodeURIComponent(e[j][f]))}if(f!==g-1){a.push("&")}}}else{if(b){a.push(j,"=",e[j])}else{a.push(j,"=",encodeURIComponent(e[j]))}}if(h!==i-1){a.push("&")}}return a.join("")}function gFnGetParamByName(a){if(a){var d=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+d+"=([^&#]*)");var b=c.exec(location.search);return b===null?"":decodeURIComponent(b[1].replace(/\+/g," "))}}function gKPEventTracker(a,e){var d=e?e:{};if(a==="addToCart"){if(MARKET_TYPE!=="C0100"){return}d={id:sCoinType};if(COIN.C0100[sCoinKey].trade.kakaoPixel==="Y"){d.tag=sCoinType}}if(window.kakaoPixel){try{var c="6828674910408061769";if(Object.keys(d).length===0){d=undefined}(kakaoPixel(c)[a])(d)}catch(b){console.log(b)}}}(function(){try{var a=["bt_react","Authorization","marketFavoritesCoin","assetSortInfo","lang"];var b=gCookie.get("checkedCookies");var f=[];var d;var c=function(e){if(e==="lang"){gCookie.remove("lang",true);return}var i=gCookie.get(e);if(i){gCookie.remove(e);gCookie.add(e,i,9999,"/",".bithumb.com")}};if(!b){for(d=0;d<a.length;d++){var k=a[d];if(!gIsEmpty(gCookie.get(k))){c(k);f.push(k)}}if(f.length>0){gCookie.add("checkedCookies",JSON.stringify(f),9999,"/",".bithumb.com")}}else{var j=JSON.parse(b);for(d=0;d<a.length;d++){var h=a[d];if(j.indexOf(h)===-1){c(h);f.push(h)}}if(f.length>0){gCookie.add("checkedCookies",JSON.stringify(j.concat(f)),9999,"/",".bithumb.com")}}}catch(g){console.log(g)}}());